<?xml version="1.0"?>
<!--文件说明 ： 凭证接口相关配置信息                  -->
<!--    作者 ： 徐芳波                               -->
<!--    日期 ： 2010-6-5                             -->
<!--    说明 ： 更多信息请参考凭证接口设计文档和代码   -->
<DocSourceVoucher>
  <Modle Name="AM">
    <Runtimes>
      <Runtime Name="Ufida.T.AA.FI.DTO"/>
      <Runtime Name="Ufida.T.AM.DTO"/>
      <Runtime Name="Ufida.T.UA.AM"/>
      <Runtime Name="Ufida.T.SM.FC"/>
    </Runtimes>
    <Voucher Code="AM1020" Name="AssetDTO" Title="资产卡片">
      <SimpleQuery Title="简单查询设置" Type="Ufida.T.SM.FC.AbstractSimpleQuery">

        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,如果没有某个字段设置为NULL-->
        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,SELECT部分和WHERE部分都需要配置-->
        <Fields>
          <Property Name="ID" MapProperty="NEWID()" Title="Id" />
          <Property Name="UserId" MapProperty="{UserId}" Title="UserId" />
          <Property Name="IdvoucherType" MapProperty="AssetDTO.idprocesstype" Title="单据类型" />
          <Property Name="VoucherId" MapProperty="AssetDTO.ID" Title="单据Id" />
          <Property Name="VoucherDate" MapProperty="AssetDTO.VoucherDate" Titile="单据日期"/>
          <Property Name="VoucherCode" MapProperty="AssetDTO.Code" Titile="单据编号"/>
          <Property Name="VoucherTs" MapProperty="AssetDTO.Ts" Title="单据时间戳"/>
          <Property Name="IdbusiType" MapProperty="" Titile="业务类型"/>
          <Property Name="Idcurrency" MapProperty="AssetDTO.idcurrency" Titile="币种"/>
          <Property Name="IdbankAccount" MapProperty=""  Titile="账号"/>
          <Property Name="Iddepartment" MapProperty="AssetDTO.idusedept" Titile="部门"/>
          <Property Name="Idclerck" MapProperty="AssetDTO.idperson" Titile="员工"/>
          <!--<Property Name="Idsupplier" MapProperty="" Titile="供应商"/>-->
          <Property Name="Idcustomer" MapProperty="AssetDTO.idpartner" Titile="往来单位"/>
          <Property Name="Idproject" MapProperty="AssetDTO.idproject" Title="项目"/>
          <Property Name="OrigAmount" MapProperty="AssetDTO.OrigValue" Title="金额"/>
          <Property Name="Amount" MapProperty="AssetDTO.OrigValue" Title="本币金额"/>
        </Fields>

        <PropertyFilters>
          <Filter Name="VoucherDate" MapProperty="AssetDTO.VoucherDate"/>
          <Filter Name="VoucherCode" MapProperty="AssetDTO.Code"/>
          <!--<Filter Name="SupplierCode" MapProperty=""/>-->
          <Filter Name="CustomerCode" MapProperty="AssetDTO.Partner.Code"/>
          <Filter Name="Departments" MapProperty="AssetDTO.idusedept"/>
          <Filter Name="Persons" MapProperty="AssetDTO.idperson"/>
          <Filter Name="Projects" MapProperty="AssetDTO.idproject"/>
          <Filter Name="Currencys" MapProperty="AssetDTO.idcurrency"/>
          <!--<Filter Name="SettleStyles" MapProperty="ArapReceivePaymentDTO.ArapMultiSettleDetails.idsettleStyle"/>
          <Filter Name="Bankaccounts" MapProperty="ArapReceivePaymentDTO.ArapMultiSettleDetails.idbankAccount"/>-->
		      <Filter Name="PartnerClass" MapProperty="AssetDTO.Partner.idpartnerclass"/>
		      <Filter Name="ProjectClass" MapProperty="AssetDTO.Project.idclass"/>
          <Filter Name="OrigAmount" MapProperty="AssetDTO.OrigValue" />
          <Filter Name="Amount" MapProperty="AssetDTO.OrigValue" />
	  <Filter Name="maker" MapProperty="AssetDTO.makerid"/> 
          <Filter Name="auditor" MapProperty="AssetDTO.makerid"/>
        </PropertyFilters>

        <!--查询单据的过滤条件，多是不生成凭证过滤条件，也可以添加其他的自定义条件-->
        <BusinessFilters ModeName="AM">
          <!--<Filter Name="收付款标识">
            ArapReceivePaymentDTO.isReceiveFlag=1
          </Filter>-->
          <Filter Name="单据类型是新增资产">
            AssetDTO.idprocesstype ='251361D0-A383-4B6D-9957-769C22CF0509'
          </Filter>
          <Filter Name="未生效的不生成">
            AssetDTO.VoucherState={VoucherState.Effective}
          </Filter>
          <Filter Name="已生成凭证的业务单据不生成">
            (AssetDTO.DocId IS NULL or AssetDTO.DocId='')
          </Filter>
          <Filter Name="该模块启用期间之前的期初单据不生成">
            AssetDTO.VoucherDate>={ModelOpeningDate}
          </Filter>
          <Filter Name="不全为零">
            (AssetDTO.OrigValue &lt;&gt;0 or AssetDTO.functionOrigValue &lt;&gt;0 or AssetDTO.InputTax &lt;&gt;0 or AssetDTO.TotalDepr &lt;&gt;0)
          </Filter>
          <!--<Filter Name="自动生成的普通收款不能单独生成凭证">
			  (ArapReceivePaymentDTO.IsAuto=0
			  or ArapReceivePaymentDTO.IsAuto=1 and ArapReceivePaymentDTO.idbusiType='793EBF93-8999-45FD-9C93-BFCC4101B71F' and ArapReceivePaymentDTO.SaleOrderID is not null)
		      </Filter>-->
        </BusinessFilters>
      </SimpleQuery>
      <FullQuery Name="完整查询设置" Type="Ufida.T.SM.FC.AbstractFullQuery">
        <Header>
          <Property Name="AssetDTO.ID"  Title="单据ID"/>
          <Property Name="AssetDTO.TS"  Title="TS"/>
          <Property Name="AssetDTO.idprocesstype"  Title="业务类型ID"/>
          <Property Name="AssetDTO.ProcessType.ID"  Title="业务类型"/>
          <Property Name="AssetDTO.ProcessType.Name"  Title="业务类型"/>
          <Property Name="AssetDTO.VoucherDate"  Title="单据日期"/>
          <Property Name="AssetDTO.Code"  Title="单据编号"/>
          <Property Name="AssetDTO.Memo"  Title="备注"/>
          <Property Name="AssetDTO.Spec"  Title="规格型号"/>
          <Property Name="AssetDTO.Qty"  Title="数量"/>
          <Property Name="AssetDTO.ExpYears"  Title="预计使用年限"/>
          <Property Name="AssetDTO.ExpMonths"  Title="预计使用月限"/>
          <Property Name="AssetDTO.ExpDueDate"  Title="预计到期日期"/>
          <Property Name="AssetDTO.UsedYears"  Title="已使用年限"/>
          <Property Name="AssetDTO.UsedMonths"  Title="已使用月限"/>
          <Property Name="AssetDTO.LeftYears"  Title="尚可使用年限"/>
          <Property Name="AssetDTO.LeftMonths"  Title="尚可使用月限"/>
          <Property Name="AssetDTO.ExpUOP"  Title="预计工作总量"/>
          <Property Name="AssetDTO.UsedUOP"  Title="累计工作量"/>
          <Property Name="AssetDTO.CurUOP"  Title="本月工作量"/>
          <Property Name="AssetDTO.LeftUOP"  Title="剩余工作量"/>
          <Property Name="AssetDTO.EstValue"  Title="评估值"/>
          <Property Name="AssetDTO.OrigValue"  Title="原值"/>
          <Property Name="AssetDTO.FunctionOrigValue"  Title="本币原值"/>
          <Property Name="AssetDTO.IsOffsetInputTax"  Title="抵扣进项税"/>
          <Property Name="AssetDTO.InputTaxRate"  Title="税率"/>
          <Property Name="AssetDTO.InputTax"  Title="进项税额"/>
          <Property Name="AssetDTO.TotalDepr"  Title="累计折旧/摊销"/>
          <Property Name="AssetDTO.NetAmount"  Title="净值"/>
          <Property Name="AssetDTO.BookValue"  Title="账面价值"/>
          <Property Name="AssetDTO.ExpNRVRate"  Title="预计净残值率"/>
          <Property Name="AssetDTO.ExpNRV"  Title="预计净残值"/>
          <Property Name="AssetDTO.IsDepr"  Title="折旧/摊销"/>
          <Property Name="AssetDTO.MonthDeprRate"  Title="月折旧/摊销率"/>
          <Property Name="AssetDTO.MonthDeprAmount"  Title="月折旧/摊销额"/>
          <Property Name="AssetDTO.UnitDepr"  Title="单位折旧"/>
          <Property Name="AssetDTO.LeftProvision"  Title="剩余计提"/>
          <Property Name="AssetDTO.ClearIncome"  Title="清理收入"/>
          <Property Name="AssetDTO.ClearFee"  Title="清理费用"/>
          <Property Name="AssetDTO.SaleTax"  Title="销项税额"/>
          <Property Name="AssetDTO.BizTax"  Title="营业税额"/>
          <Property Name="AssetDTO.Impairment"  Title="减值准备"/>
          <Property Name="AssetDTO.idCurrency"  Title="币种ID"/>
          <Property Name="AssetDTO.Currency.ID"  Title="币种"/>
          <Property Name="AssetDTO.Currency.Name"  Title="币种名称"/>
          <Property Name="AssetDTO.ExchangeRate"  Title="汇率"/>
          <Property Name="AssetDTO.idusedept"  Title="部门ID"/>
          <Property Name="AssetDTO.UseDept.ID"  Title="部门"/>
          <Property Name="AssetDTO.UseDept.Code"  Title="部门编码"/>
          <Property Name="AssetDTO.UseDept.Name"  Title="部门名称"/>
          <Property Name="AssetDTO.idPerson"  Title="人员ID"/>
          <Property Name="AssetDTO.Person.ID"  Title="人员"/>
          <Property Name="AssetDTO.Person.Code"  Title="人员编码"/>
          <Property Name="AssetDTO.Person.Name"  Title="人员名称"/>
          <Property Name="AssetDTO.idPartner"  Title="往来单位ID"/>
          <Property Name="AssetDTO.Partner.ID"  Title="往来单位"/>
          <Property Name="AssetDTO.Partner.Code"  Title="往来单位编码"/>
          <Property Name="AssetDTO.Partner.Name"  Title="往来单位名称"/>
          <Property Name="AssetDTO.Partner.IdpartnerClass"  Title="往来单位分类id"/>
          <Property Name="AssetDTO.Partner.PartnerClass.ID"  Title="往来单位分类"/>
          <Property Name="AssetDTO.Partner.PartnerClass.Name"  Title="往来单位名称"/>
          <Property Name="AssetDTO.idProject"  Title="项目ID"/>
          <Property Name="AssetDTO.Project.ID"  Title="项目"/>
          <Property Name="AssetDTO.Project.Name"  Title="项目名称"/>
          <Property Name="AssetDTO.Project.IdClass"  Title="项目分类"/>
          <Property Name="AssetDTO.Project.Class.ID"  Title="项目分类"/>
          <Property Name="AssetDTO.Project.Class.Name"  Title="项目分类"/>
          <Property Name="AssetDTO.Project.Class.Code"  Title="项目分类"/>
          <Property Name="AssetDTO.idassetProp"  Title="资产属性ID"/>
          <Property Name="AssetDTO.AssetProp.ID"  Title="资产属性"/>
          <Property Name="AssetDTO.AssetProp.Code"  Title="资产属性编码"/>
          <Property Name="AssetDTO.AssetProp.Name"  Title="资产属性名称"/>
          <Property Name="AssetDTO.idassetClass"  Title="资产分类ID"/>
          <Property Name="AssetDTO.AssetClass.ID"  Title="资产分类"/>
          <Property Name="AssetDTO.AssetClass.Code"  Title="资产分类编码"/>
          <Property Name="AssetDTO.AssetClass.Name"  Title="资产分类名称"/>
          <Property Name="AssetDTO.idincDecWay"  Title="增减方式ID"/>
          <Property Name="AssetDTO.IncDecWay.ID"  Title="增减方式"/>
          <Property Name="AssetDTO.IncDecWay.Code"  Title="增减方式编码"/>
          <Property Name="AssetDTO.IncDecWay.Name"  Title="增减方式名称"/>
          <Property Name="AssetDTO.iddeprMethod"  Title="折旧方法ID"/>
          <Property Name="AssetDTO.DeprMethod.ID"  Title="折旧方法"/>
          <Property Name="AssetDTO.DeprMethod.Code"  Title="折旧方法编码"/>
          <Property Name="AssetDTO.DeprMethod.Name"  Title="折旧方法名称"/>

          <!--<Property Name="AssetDTO.pubuserdefnvc1"/>
		      <Property Name="AssetDTO.pubuserdefnvc2"/>
		      <Property Name="AssetDTO.pubuserdefnvc3"/>
		      <Property Name="AssetDTO.pubuserdefnvc4"/>
		      <Property Name="AssetDTO.pubuserdefnvc5"/>
		      <Property Name="AssetDTO.pubuserdefnvc6"/>
		      <Property Name="AssetDTO.pubuserdefdecm1"/>
		      <Property Name="AssetDTO.pubuserdefdecm2"/>
		      <Property Name="AssetDTO.pubuserdefdecm3"/>
		      <Property Name="AssetDTO.pubuserdefdecm4"/>
		      <Property Name="AssetDTO.pubuserdefdecm5"/>
		      <Property Name="AssetDTO.pubuserdefdecm6"/>
		      <Property Name="AssetDTO.priuserdefnvc1"/>
		      <Property Name="AssetDTO.priuserdefnvc2"/>
		      <Property Name="AssetDTO.priuserdefnvc3"/>
		      <Property Name="AssetDTO.priuserdefnvc4"/>
		      <Property Name="AssetDTO.priuserdefnvc5"/>
		      <Property Name="AssetDTO.priuserdefnvc6"/>
		      <Property Name="AssetDTO.priuserdefdecm1"/>
		      <Property Name="AssetDTO.priuserdefdecm2"/>
		      <Property Name="AssetDTO.priuserdefdecm3"/>
		      <Property Name="AssetDTO.priuserdefdecm4"/>
		      <Property Name="AssetDTO.priuserdefdecm5"/>
		      <Property Name="AssetDTO.priuserdefdecm6"/>-->
        </Header>
      </FullQuery>
      <TransactionDoc Type="Ufida.T.UA.AM.FC.AssetVoucher">
        <SummaryFields>
          <Property Name="VoucherTypeId" Mapping="ID" Title="单据类型ID"/>
          <Property Name="BusiTypeId" Mapping="" Title="业务类型ID"/>
          <Property Name="BusiType" Mapping="IncDecWay.Name" Title="业务类型"/>
          <Property Name="Partner" Mapping="Partner.Name" Title="往来单位"/>
          <Property Name="Department" Mapping="UseDept.Name" Title="部门"/>
          <Property Name="Person" Mapping="Person.Name" Title="人员"/>
          <Property Name="Memo" Mapping="Memo" Title="备注"/>
        </SummaryFields>
        <!--原值-->
        <TransactionEntry Code="OrigValue" Name="原值" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="OrigValue"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigValue"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigValue"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Property Doc="BillNo" SourceVoucher="Code"/>
            <Account AccountRuleType="AssetAccount">
              <ExtendRuleProperty Name="idassetProp" SourceVoucherProperty="idassetProp"/>
              <ExtendRuleProperty Name="idassetClass" SourceVoucherProperty="idassetClass"/>
			  
            </Account>
            
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="iduseDept"/>
            <!--<Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>-->
            <Property Doc="Idproject" SourceVoucher="Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <!--<Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>-->
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
			      <Property Doc="IdVoucherType" SourceVoucher="idprocesstype"/>
			      <!--<Property Doc="IdIncome" SourceVoucher=""/>
			      <Property Doc="IdExpenseItem" SourceVoucher=""/>
			      <Property Doc="IdWarehouse" SourceVoucher=""/>
			      <Property Doc="IdInventoryClass" SourceVoucher=""/>
			      <Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			       <Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			      <!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
			      <!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
			      <!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
            <!--<Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>-->
          </SourceRelation>
        </TransactionEntry>
        <!--进项税额-->
        <TransactionEntry Code="InputTax" Name="进项税额" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="InputTax"/>
            <Property Doc="OrigAmountDr" SourceVoucher="InputTax"/>
            <Property Doc="OrigAmount" SourceVoucher="InputTax"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Property Doc="BillNo" SourceVoucher="Code"/>
            <Account AccountRuleType="ArrivalTax">
		<ExtendRuleProperty Name="Idpartnerclass" SourceVoucherProperty="Partner.IdpartnerClass"/>
                <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="Idpartner"/>
            </Account>

          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="iduseDept"/>
            <!--<Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>-->
            <Property Doc="Idproject" SourceVoucher="Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <!--<Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>-->
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
            <Property Doc="IdVoucherType" SourceVoucher="idprocesstype"/>
            <!--<Property Doc="IdIncome" SourceVoucher=""/>
			      <Property Doc="IdExpenseItem" SourceVoucher=""/>
			      <Property Doc="IdWarehouse" SourceVoucher=""/>
			      <Property Doc="IdInventoryClass" SourceVoucher=""/>
			      <Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			       <Property Doc="IdInRdStyle" SourceVoucher=""/>-->
            <!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
            <!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
            <!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
            <!--<Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>-->
          </SourceRelation>
        </TransactionEntry>
        <!--累计折旧/累计摊销-->
        <TransactionEntry Code="TotalDepr" Name="累计折旧/累计摊销" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="TotalDepr"/>
            <Property Doc="OrigAmountCr" SourceVoucher="TotalDepr"/>
            <Property Doc="OrigAmount" SourceVoucher="TotalDepr"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Property Doc="BillNo" SourceVoucher="Code"/>
            <Account AccountRuleType="AssetDepreciationAccount">
              <ExtendRuleProperty Name="idassetProp" SourceVoucherProperty="idassetProp"/>
              <ExtendRuleProperty Name="idassetClass" SourceVoucherProperty="idassetClass"/>
            </Account>

          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="iduseDept"/>
            <!--<Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>-->
            <Property Doc="Idproject" SourceVoucher="Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <!--<Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>>-->
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
			      <Property Doc="IdVoucherType" SourceVoucher="idprocesstype"/>
            <!--<Property Doc="IdIncome" SourceVoucher=""/>
			      <Property Doc="IdExpenseItem" SourceVoucher=""/>
			      <Property Doc="IdWarehouse" SourceVoucher=""/>
			      <Property Doc="IdInventoryClass" SourceVoucher=""/>
			      <Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			       <Property Doc="IdInRdStyle" SourceVoucher=""/>-->
            <!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
            <!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
            <!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
            <!--<Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>-->
          </SourceRelation>
        </TransactionEntry>

        <!--资产对方科目-->
        <TransactionEntry Code="AssetOppAccount" Name="资产对方科目" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="OrigValue"/>
            <Property Doc="OrigAmountCr" SourceVoucher="OrigValue"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigValue"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Property Doc="BillNo" SourceVoucher="Code"/>
            <Account AccountRuleType="AssetOppAccount">
              <ExtendRuleProperty Name="idvoucherType" SourceVoucherProperty="idprocesstype"/>
              <ExtendRuleProperty Name="idincDecWay" SourceVoucherProperty="idincDecWay"/>
              <ExtendRuleProperty Name="idassetProp" SourceVoucherProperty="idassetProp"/>
              <ExtendRuleProperty Name="idassetClass" SourceVoucherProperty="idassetClass"/>
            </Account>

          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="iduseDept"/>
            <!--<Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>-->
            <Property Doc="Idproject" SourceVoucher="Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <!--<Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>-->
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
            <Property Doc="IdVoucherType" SourceVoucher="idprocesstype"/>
			      <!--<Property Doc="IdIncome" SourceVoucher=""/>
			      <Property Doc="IdExpenseItem" SourceVoucher=""/>
			      <Property Doc="IdWarehouse" SourceVoucher=""/>
			      <Property Doc="IdInventoryClass" SourceVoucher=""/>
			      <Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			       <Property Doc="IdInRdStyle" SourceVoucher=""/>-->
            <!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
            <!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
            <!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
            <!--<Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>-->
          </SourceRelation>
        </TransactionEntry>

      </TransactionDoc>
      <DocUpdateBack Title="回写" Type="Ufida.T.UA.AM.FC.DocUpdateBackAssetVoucher" />
    </Voucher>

    <Voucher Code="AM1050" Name="HandleVoucherDTO" Title="处置单">
      <SimpleQuery Title="简单查询设置" Type="Ufida.T.SM.FC.AbstractSimpleQuery">

        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,如果没有某个字段设置为NULL-->
        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,SELECT部分和WHERE部分都需要配置-->
        <Fields>
          <Property Name="ID" MapProperty="NEWID()" Title="Id" />
          <Property Name="UserId" MapProperty="{UserId}" Title="UserId" />
          <Property Name="IdvoucherType" MapProperty="{IdvoucherType}" Title="单据类型" />
          <Property Name="VoucherId" MapProperty="HandleVoucherDTO.ID" Title="单据Id" />
          <Property Name="VoucherDate" MapProperty="HandleVoucherDTO.VoucherDate" Titile="单据日期"/>
          <Property Name="VoucherCode" MapProperty="HandleVoucherDTO.Code" Titile="单据编号"/>
          <Property Name="VoucherTs" MapProperty="HandleVoucherDTO.Ts" Title="单据时间戳"/>
          <Property Name="IdbusiType" MapProperty="HandleVoucherDTO.IdincDecWay" Titile="业务类型"/>
          <!--<Property Name="Idcurrency" MapProperty="HandleVoucherDTO.Details.Asset.idcurrency" Titile="币种"/>-->
          <Property Name="IdbankAccount" MapProperty=""  Titile="账号"/>
          <!--<Property Name="Iddepartment" MapProperty="HandleVoucherDTO.Details.Asset.idusedept" Titile="部门"/>
          <Property Name="Idclerck" MapProperty="HandleVoucherDTO.Details.Asset.idperson" Titile="员工"/>-->
          <!--<Property Name="Idsupplier" MapProperty="" Titile="供应商"/>-->
          <!--<Property Name="Idcustomer" MapProperty="HandleVoucherDTO.Details.Asset.idpartner" Titile="往来单位"/>
          <Property Name="Idproject" MapProperty="HandleVoucherDTO.Details.Asset.idproject" Title="项目"/>-->
          <Property Name="OrigAmount" MapProperty="HandleVoucherDTO.SumOrgiValue" Title="金额"/>
          <Property Name="Amount" MapProperty="HandleVoucherDTO.SumOrgiValue" Title="本币金额"/>
        </Fields>

        <PropertyFilters>
          <Filter Name="VoucherDate" MapProperty="HandleVoucherDTO.VoucherDate"/>
          <Filter Name="VoucherCode" MapProperty="HandleVoucherDTO.Code"/>
          <!--<Filter Name="SupplierCode" MapProperty=""/>
          <Filter Name="CustomerCode" MapProperty="HandleVoucherDTO.Details.Asset.Partner.Code"/>
          <Filter Name="Departments" MapProperty="HandleVoucherDTO.Details.Asset.idusedept"/>
          <Filter Name="Persons" MapProperty="HandleVoucherDTO.Details.Asset.idperson"/>
          <Filter Name="Projects" MapProperty="HandleVoucherDTO.Details.Asset.idproject"/>
          <Filter Name="Currencys" MapProperty="HandleVoucherDTO.Details.Asset.idcurrency"/>-->
          <!--<Filter Name="SettleStyles" MapProperty="ArapReceivePaymentDTO.ArapMultiSettleDetails.idsettleStyle"/>
          <Filter Name="Bankaccounts" MapProperty="ArapReceivePaymentDTO.ArapMultiSettleDetails.idbankAccount"/>-->
          <!--<Filter Name="PartnerClass" MapProperty="HandleVoucherDTO.Details.Asset.Partner.idpartnerclass"/>
          <Filter Name="ProjectClass" MapProperty="HandleVoucherDTO.Details.Asset.Project.idclass"/>-->
          <Filter Name="OrigAmount" MapProperty="HandleVoucherDTO.SumOrgiValue"/>
          <Filter Name="Amount" MapProperty="HandleVoucherDTO.SumOrgiValue" />
	  <Filter Name="maker" MapProperty="HandleVoucherDTO.makerid"/> 
	  <Filter Name="auditor" MapProperty="HandleVoucherDTO.makerid"/>
        </PropertyFilters>

        <!--查询单据的过滤条件，多是不生成凭证过滤条件，也可以添加其他的自定义条件-->
        <BusinessFilters ModeName="AM">
          <!--<Filter Name="收付款标识">
            HandleVoucherDTO.idvouchertype='21A5F9C3-9745-4C91-8412-72AA07E2266D'
          </Filter>-->
          <Filter Name="单据类型是处置单">
            HandleVoucherDTO.idvouchertype='21A5F9C3-9745-4C91-8412-72AA07E2266D'
          </Filter>
          <!--<Filter Name="未生效的不生成">
            HandleVoucherDTO.VoucherState={VoucherState.Effective}
          </Filter>-->
          <Filter Name="已生成凭证的业务单据不生成">
            (HandleVoucherDTO.DocId IS NULL or HandleVoucherDTO.DocId='')
          </Filter>
          <Filter Name="该模块启用期间之前的期初单据不生成">
            HandleVoucherDTO.VoucherDate>={ModelOpeningDate}
          </Filter>
          <!--<Filter Name="自动生成的普通收款不能单独生成凭证">
			  (ArapReceivePaymentDTO.IsAuto=0
			  or ArapReceivePaymentDTO.IsAuto=1 and ArapReceivePaymentDTO.idbusiType='793EBF93-8999-45FD-9C93-BFCC4101B71F' and ArapReceivePaymentDTO.SaleOrderID is not null)
		      </Filter>-->
        </BusinessFilters>
      </SimpleQuery>
      <FullQuery Name="完整查询设置" Type="Ufida.T.SM.FC.AbstractFullQuery">
        <Header>
          <Property Name="HandleVoucherDTO.ID"  Title="单据ID"/>
          <Property Name="HandleVoucherDTO.TS"  Title="TS"/>
          <Property Name="HandleVoucherDTO.VoucherDate"  Title="单据日期"/>
          <Property Name="HandleVoucherDTO.Code"  Title="单据编号"/>
          <Property Name="HandleVoucherDTO.Memo"  Title="备注"/>
          <Property Name="HandleVoucherDTO.IdincDecWay"  />
          <Property Name="HandleVoucherDTO.IncDecWay.Id"  />
          <Property Name="HandleVoucherDTO.IncDecWay.Code"  />
          <Property Name="HandleVoucherDTO.IncDecWay.Name"  />
        </Header>
        <Details>
          <Detail DetailRuleName="Details" DTO="HandleVoucherDetailDTO" FK="IdhandleVoucherDTO" Title="明细">
            <Property Name="HandleVoucherDetailDTO.ID"  Title="ID"/>
            <Property Name="HandleVoucherDetailDTO.TS"  Title="TS"/>
            <Property Name="HandleVoucherDetailDTO.idincDecWay"  Title=""/>
            <Property Name="HandleVoucherDetailDTO.Asset.idprocesstype"  Title="业务类型ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.ProcessType.ID"  Title="业务类型"/>
            <Property Name="HandleVoucherDetailDTO.Asset.ProcessType.Name"  Title="业务类型"/>
            <Property Name="HandleVoucherDetailDTO.Asset.OrigValue"  Title="原值"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.OrigValue"  Title="旧原值"/>
            <Property Name="HandleVoucherDetailDTO.Asset.FunctionOrigValue"  Title="本币原值"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.FunctionOrigValue"  Title="旧本币原值"/>
            <Property Name="HandleVoucherDetailDTO.Asset.InputTax"  Title="进项税额"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.InputTax"  Title="旧进项税额"/>
            <Property Name="HandleVoucherDetailDTO.Asset.TotalDepr"  Title="累计折旧/摊销"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.TotalDepr"  Title="累计折旧/摊销"/>
            <Property Name="HandleVoucherDetailDTO.Asset.NetAmount"  Title="净值"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.NetAmount"  Title="旧净值"/>
            <Property Name="HandleVoucherDetailDTO.Asset.BookValue"  Title="账面价值"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.BookValue"  Title="旧账面价值"/>
            <Property Name="HandleVoucherDetailDTO.Asset.MonthDeprAmount"  Title="月折旧/摊销额"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.MonthDeprAmount"  Title="旧月折旧/摊销额"/>
            <Property Name="HandleVoucherDetailDTO.Asset.SaleTax"  Title="销项税额"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.SaleTax"  Title="旧销项税额"/>
            <Property Name="HandleVoucherDetailDTO.Asset.BizTax"  Title="营业税额"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.BizTax"  Title="旧营业税额"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Impairment"  Title="减值准备"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.Impairment"  Title="旧减值准备"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idCurrency"  Title="币种ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Currency.ID"  Title="币种"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Currency.Name"  Title="币种名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.ExchangeRate"  Title="汇率"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idusedept"  Title="部门ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.UseDept.ID"  Title="部门"/>
            <Property Name="HandleVoucherDetailDTO.Asset.UseDept.Code"  Title="部门编码"/>
            <Property Name="HandleVoucherDetailDTO.Asset.UseDept.Name"  Title="部门名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idPerson"  Title="人员ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Person.ID"  Title="人员"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Person.Code"  Title="人员编码"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Person.Name"  Title="人员名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idPartner"  Title="往来单位ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Partner.ID"  Title="往来单位"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Partner.Code"  Title="往来单位编码"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Partner.Name"  Title="往来单位名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Partner.IdpartnerClass"  Title="往来单位分类id"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Partner.PartnerClass.ID"  Title="往来单位分类"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Partner.PartnerClass.Name"  Title="往来单位名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idProject"  Title="项目ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Project.ID"  Title="项目"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Project.Name"  Title="项目名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Project.IdClass"  Title="项目分类"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Project.Class.ID"  Title="项目分类"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Project.Class.Name"  Title="项目分类"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Project.Class.Code"  Title="项目分类"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idassetProp"  Title="资产属性ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.AssetProp.ID"  Title="资产属性"/>
            <Property Name="HandleVoucherDetailDTO.Asset.AssetProp.Code"  Title="资产属性编码"/>
            <Property Name="HandleVoucherDetailDTO.Asset.AssetProp.Name"  Title="资产属性名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idassetClass"  Title="资产分类ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.AssetClass.ID"  Title="资产分类"/>
            <Property Name="HandleVoucherDetailDTO.Asset.AssetClass.Code"  Title="资产分类编码"/>
            <Property Name="HandleVoucherDetailDTO.Asset.AssetClass.Name"  Title="资产分类名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.iddeprMethod"  Title="折旧方法ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.DeprMethod.ID"  Title="折旧方法"/>
            <Property Name="HandleVoucherDetailDTO.Asset.DeprMethod.Code"  Title="折旧方法编码"/>
            <Property Name="HandleVoucherDetailDTO.Asset.DeprMethod.Name"  Title="折旧方法名称"/>

            <!--<Property Name="HandleVoucherDetailDTO.Asset.pubuserdefnvc1"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefnvc2"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefnvc3"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefnvc4"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefnvc5"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefnvc6"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefdecm1"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefdecm2"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefdecm3"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefdecm4"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefdecm5"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefdecm6"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefnvc1"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefnvc2"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefnvc3"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefnvc4"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefnvc5"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefnvc6"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefdecm1"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefdecm2"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefdecm3"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefdecm4"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefdecm5"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefdecm6"/>-->

          </Detail>
        </Details>

      </FullQuery>
      <TransactionDoc Type="Ufida.T.UA.AM.FC.HandleVoucher1">
        <SummaryFields>
          <Property Name="VoucherTypeId" Mapping="ID" Title="单据类型ID"/>
          <Property Name="BusiTypeId" Mapping="" Title="业务类型ID"/>
          <Property Name="BusiType" Mapping="IncDecWay.Name" Title="业务类型"/>
          <Property Name="Partner" Mapping="" Title="往来单位"/>
          <Property Name="Department" Mapping="" Title="部门"/>
          <Property Name="Person" Mapping="" Title="人员"/>
          <Property Name="Memo" Mapping="Memo" Title="备注"/>
        </SummaryFields>
        <!--累计折旧/累计摊销-->
        <TransactionEntry Code="TotalDepr" Name="累计折旧/累计摊销" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="Asset.TotalDepr"/>
            <Property Doc="OrigAmountDr" SourceVoucher="Asset.TotalDepr"/>
            <Property Doc="OrigAmount" SourceVoucher="Asset.TotalDepr"/>
            <Property Doc="Idcurrency" SourceVoucher="Asset.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="Asset.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Property Doc="BillNo" SourceVoucher="Code"/>
            <Account AccountRuleType="AssetDepreciationAccount">
              <ExtendRuleProperty Name="idassetProp" SourceVoucherProperty="Asset.idassetProp"/>
              <ExtendRuleProperty Name="idassetClass" SourceVoucherProperty="Asset.idassetClass"/>

            </Account>

          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Asset.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Asset.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Asset.Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Asset.iduseDept"/>
            <!--<Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>-->
            <Property Doc="Idproject" SourceVoucher="Asset.Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Asset.Project.IdClass" Title="项目分类"/>
            <!--<Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>-->
            <Property Doc="VoucherCode" SourceVoucher="HandleVoucher.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="HandleVoucher.VoucherDate"/>
			      <Property Doc="IdVoucherType" SourceVoucher="HandleVoucher.IdvoucherType"/>
			      <!--<Property Doc="IdIncome" SourceVoucher=""/>
			      <Property Doc="IdExpenseItem" SourceVoucher=""/>
			      <Property Doc="IdWarehouse" SourceVoucher=""/>
			      <Property Doc="IdInventoryClass" SourceVoucher=""/>
			      <Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			       <Property Doc="IdInRdStyle" SourceVoucher=""/>-->
            <!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
            <!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
            <!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="HandleVoucher.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="HandleVoucher.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <!--资产对方科目-->
        <TransactionEntry Code="AssetOppAccount" Name="资产对方科目" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="Asset.TotalDepr"/>
            <Property Doc="OrigAmountDr" SourceVoucher="Asset.TotalDepr"/>
            <Property Doc="OrigAmount" SourceVoucher="Asset.TotalDepr"/>
            <Property Doc="Idcurrency" SourceVoucher="Asset.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="Asset.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Property Doc="BillNo" SourceVoucher="Code"/>
            <Account AccountRuleType="AssetOppAccount">
              <ExtendRuleProperty Name="idvoucherType" SourceVoucherProperty="Asset.IdprocessType"/>
              <ExtendRuleProperty Name="idincDecWay" SourceVoucherProperty="idincDecWay"/>
              <ExtendRuleProperty Name="idassetProp" SourceVoucherProperty="Asset.idassetProp"/>
              <ExtendRuleProperty Name="idassetClass" SourceVoucherProperty="Asset.idassetClass"/>
            </Account>

          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Asset.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Asset.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Asset.Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Asset.iduseDept"/>
            <!--<Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>-->
            <Property Doc="Idproject" SourceVoucher="Asset.Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Asset.Project.IdClass" Title="项目分类"/>
            <!--<Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>-->
            <Property Doc="VoucherCode" SourceVoucher="HandleVoucher.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="HandleVoucher.VoucherDate"/>
			      <Property Doc="IdVoucherType" SourceVoucher="HandleVoucher.IdvoucherType"/>

			      <!--<Property Doc="IdIncome" SourceVoucher=""/>
			      <Property Doc="IdExpenseItem" SourceVoucher=""/>
			      <Property Doc="IdWarehouse" SourceVoucher=""/>
			      <Property Doc="IdInventoryClass" SourceVoucher=""/>
			      <Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			       <Property Doc="IdInRdStyle" SourceVoucher=""/>-->
            <!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
            <!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
            <!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="HandleVoucher.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="HandleVoucher.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <!--资产科目-->
        <TransactionEntry Code="AssetAccount" Name="资产科目" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="Asset.OrigValue"/>
            <Property Doc="OrigAmountCr" SourceVoucher="Asset.OrigValue"/>
            <Property Doc="OrigAmount" SourceVoucher="Asset.OrigValue"/>
            <Property Doc="Idcurrency" SourceVoucher="Asset.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="Asset.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Property Doc="BillNo" SourceVoucher="Code"/>
            <Account AccountRuleType="AssetAccount">
              <ExtendRuleProperty Name="idassetProp" SourceVoucherProperty="Asset.idassetProp"/>
              <ExtendRuleProperty Name="idassetClass" SourceVoucherProperty="Asset.idassetClass"/>

            </Account>


          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Asset.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Asset.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Asset.Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Asset.iduseDept"/>
            <!--<Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>-->
            <Property Doc="Idproject" SourceVoucher="Asset.Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Asset.Project.IdClass" Title="项目分类"/>
            <!--<Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>-->
            <Property Doc="VoucherCode" SourceVoucher="HandleVoucher.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="HandleVoucher.VoucherDate"/>
			      <Property Doc="IdVoucherType" SourceVoucher="HandleVoucher.IdvoucherType"/>

			      <!--<Property Doc="IdIncome" SourceVoucher=""/>
			      <Property Doc="IdExpenseItem" SourceVoucher=""/>
			      <Property Doc="IdWarehouse" SourceVoucher=""/>
			      <Property Doc="IdInventoryClass" SourceVoucher=""/>
			      <Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			       <Property Doc="IdInRdStyle" SourceVoucher=""/>-->
            <!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
            <!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
            <!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="HandleVoucher.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="HandleVoucher.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>

      </TransactionDoc>
      <DocUpdateBack Title="回写" Type="Ufida.T.UA.AM.FC.DocUpdateBackHandleVoucher1" />
    </Voucher>

    <Voucher Code="AM3010" Name="HandleVoucherDTO" Title="折旧摊销清单">
      <SimpleQuery Title="简单查询设置" Type="Ufida.T.SM.FC.AbstractSimpleQuery">

        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,如果没有某个字段设置为NULL-->
        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,SELECT部分和WHERE部分都需要配置-->
        <Fields>
          <Property Name="ID" MapProperty="NEWID()" Title="Id" />
          <Property Name="UserId" MapProperty="{UserId}" Title="UserId" />
          <Property Name="IdvoucherType" MapProperty="{IdvoucherType}" Title="单据类型" />
          <Property Name="VoucherId" MapProperty="HandleVoucherDTO.ID" Title="单据Id" />
          <Property Name="VoucherDate" MapProperty="HandleVoucherDTO.VoucherDate" Titile="单据日期"/>
          <Property Name="VoucherCode" MapProperty="HandleVoucherDTO.Code" Titile="单据编号"/>
          <Property Name="VoucherTs" MapProperty="HandleVoucherDTO.Ts" Title="单据时间戳"/>
          <Property Name="IdbusiType" MapProperty="HandleVoucherDTO.ChangeType" Titile="业务类型"/>
          <Property Name="Idcurrency" MapProperty="" Titile="币种"/>
          <Property Name="IdbankAccount" MapProperty=""  Titile="账号"/>
          <Property Name="Iddepartment" MapProperty="" Titile="部门"/>
          <Property Name="Idclerck" MapProperty="" Titile="员工"/>
          <!--<Property Name="Idsupplier" MapProperty="" Titile="供应商"/>-->
          <Property Name="Idcustomer" MapProperty="" Titile="往来单位"/>
          <Property Name="Idproject" MapProperty="" Title="项目"/>
          <Property Name="OrigAmount" MapProperty="HandleVoucherDTO.SumOrgiValue" Title="金额"/>
          <Property Name="Amount" MapProperty="HandleVoucherDTO.SumOrgiValue" Title="本币金额"/>
        </Fields>

        <PropertyFilters>
          <Filter Name="VoucherDate" MapProperty="HandleVoucherDTO.VoucherDate"/>
          <Filter Name="VoucherCode" MapProperty="HandleVoucherDTO.Code"/>
          <!--<Filter Name="SupplierCode" MapProperty=""/>-->
          <!--<Filter Name="CustomerCode" MapProperty="AssetDTO.Partner.Code"/>
          <Filter Name="Departments" MapProperty="AssetDTO.idusedept"/>
          <Filter Name="Persons" MapProperty="AssetDTO.idperson"/>
          <Filter Name="Projects" MapProperty="AssetDTO.idproject"/>
          <Filter Name="Currencys" MapProperty="AssetDTO.idcurrency"/>-->
          <!--<Filter Name="SettleStyles" MapProperty="ArapReceivePaymentDTO.ArapMultiSettleDetails.idsettleStyle"/>
          <Filter Name="Bankaccounts" MapProperty="ArapReceivePaymentDTO.ArapMultiSettleDetails.idbankAccount"/>-->
          <!--<Filter Name="PartnerClass" MapProperty="AssetDTO.Partner.idpartnerclass"/>
          <Filter Name="ProjectClass" MapProperty="AssetDTO.Project.idclass"/>-->
          <Filter Name="OrigAmount" MapProperty="HandleVoucherDTO.SumOrgiValue" />
          <Filter Name="Amount" MapProperty="HandleVoucherDTO.SumOrgiValue" />
	  <Filter Name="maker" MapProperty="HandleVoucherDTO.makerid"/> 
	  <Filter Name="auditor" MapProperty="HandleVoucherDTO.makerid"/>
        </PropertyFilters>

        <!--查询单据的过滤条件，多是不生成凭证过滤条件，也可以添加其他的自定义条件-->
        <BusinessFilters ModeName="AM">
          <!--<Filter Name="收付款标识">
            ArapReceivePaymentDTO.isReceiveFlag=1
          </Filter>-->
          <Filter Name="单据类型是折旧摊销清单">
            HandleVoucherDTO.idvouchertype='AF3B75A8-CB29-43C6-B829-1F4A475347C5'
          </Filter>
          <!--<Filter Name="不能是期初的卡片">
            AssetDTO.isbegin = 0
          </Filter>-->
          <Filter Name="生成凭证为否">
            HandleVoucherDTO.IsGenDoc>='173A2E13-4AD6-4E53-8F97-495BA4117512'
          </Filter>
          <!--<Filter Name="未生效的不生成">
            AssetDTO.VoucherState={VoucherState.Effective}
          </Filter>
          <Filter Name="已生成凭证的业务单据不生成">
            (AssetDTO.DocId IS NULL or AssetDTO.DocId='')
          </Filter>
          <Filter Name="该模块启用期间之前的期初单据不生成">
            AssetDTO.VoucherDate>={ModelOpeningDate}
          </Filter>-->
        </BusinessFilters>
      </SimpleQuery>
      <FullQuery Name="完整查询设置" Type="Ufida.T.SM.FC.AbstractFullQuery">
        <Header>
          <Property Name="HandleVoucherDTO.ID"  Title="单据ID"/>
          <Property Name="HandleVoucherDTO.TS"  Title="TS"/>
          <Property Name="HandleVoucherDTO.VoucherDate"  Title="单据日期"/>
          <Property Name="HandleVoucherDTO.Code"  Title="单据编号"/>
          <Property Name="HandleVoucherDTO.Memo"  Title="备注"/>
          <Property Name="HandleVoucherDTO.idvoucherType"  Title="单据类型"/>
          <Property Name="HandleVoucherDTO.VoucherType.ID"  Title="单据类型"/>
          <Property Name="HandleVoucherDTO.VoucherType.Code"  Title="单据类型"/>
          <Property Name="HandleVoucherDTO.VoucherType.Name"  Title="单据类型"/>
        </Header>
        <Details>
          <Detail DetailRuleName="DeprSummaryDTOs" DTO="DeprSummaryDTO" FK="IdhandleVoucherDTO" Title="明细">
            <Property Name="DeprSummaryDTO.ID"  Title="ID"/>
            <Property Name="DeprSummaryDTO.TS"  Title="TS"/>
            <Property Name="DeprSummaryDTO.idDepartment"  Title="部门ID"/>
            <Property Name="DeprSummaryDTO.Department.ID"  Title="部门"/>
            <Property Name="DeprSummaryDTO.Department.Code"  Title="部门编码"/>
            <Property Name="DeprSummaryDTO.Department.Name"  Title="部门名称"/>
            <Property Name="DeprSummaryDTO.idAssetProp"  Title="资产属性ID"/>
            <Property Name="DeprSummaryDTO.AssetProp.ID"  Title="资产属性"/>
            <Property Name="DeprSummaryDTO.AssetProp.Code"  Title="资产属性编码"/>
            <Property Name="DeprSummaryDTO.AssetProp.Name"  Title="资产属性名称"/>
            <Property Name="DeprSummaryDTO.idAssetClass"  Title="资产分类ID"/>
            <Property Name="DeprSummaryDTO.AssetClass.ID"  Title="资产分类"/>
            <Property Name="DeprSummaryDTO.AssetClass.Code"  Title="资产分类编码"/>
            <Property Name="DeprSummaryDTO.AssetClass.Name"  Title="资产分类名称"/>
            <Property Name="DeprSummaryDTO.idProject"  Title="项目ID"/>
            <Property Name="DeprSummaryDTO.Project.ID"  Title="项目"/>
            <Property Name="DeprSummaryDTO.Project.Name"  Title="项目名称"/>
            <Property Name="DeprSummaryDTO.Project.IdClass"  Title="项目分类"/>
            <Property Name="DeprSummaryDTO.Project.Class.ID"  Title="项目分类"/>
            <Property Name="DeprSummaryDTO.Project.Class.Name"  Title="项目分类"/>
            <Property Name="DeprSummaryDTO.Project.Class.Code"  Title="项目分类"/>
            <Property Name="DeprSummaryDTO.Amount"  Title="折旧值"/>
          </Detail>
        </Details>

      </FullQuery>
      <TransactionDoc Type="Ufida.T.UA.AM.FC.HandleVoucher2New">
        <SummaryFields>
          <Property Name="VoucherTypeId" Mapping="ID" Title="单据类型ID"/>
          <Property Name="BusiTypeId" Mapping="" Title="业务类型ID"/>
          <Property Name="BusiType" Mapping="" Title="业务类型"/>
          <Property Name="Partner" Mapping="" Title="往来单位"/>
          <Property Name="Department" Mapping="" Title="部门"/>
          <Property Name="Person" Mapping="" Title="人员"/>
          <Property Name="Memo" Mapping="Memo" Title="备注"/>
        </SummaryFields>
        <!--折旧/累计对方科目-->
        <TransactionEntry Code="AssetDeprOppAccount" Name="折旧/摊销对方科目" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="Amount"/>
            <Property Doc="OrigAmountDr" SourceVoucher="Amount"/>
            <Property Doc="OrigAmount" SourceVoucher="Amount"/>
            <Property Doc="Idcurrency" SourceVoucher=""/>
            <Property Doc="ExchangeRate" SourceVoucher=""/>
            <Property Doc="Memoto" SourceVoucher=""/>
            <Property Doc="BillNo" SourceVoucher="HandleVoucher.Code"/>
            <Account AccountRuleType="AssetDepreciationOppAccount">
              <ExtendRuleProperty Name="idvouchertype" SourceVoucherProperty="HandleVoucher.idvoucherType"/>
              <ExtendRuleProperty Name="iddepartment" SourceVoucherProperty="idDepartment"/>
              <ExtendRuleProperty Name="idassetProp" SourceVoucherProperty="idAssetProp"/>
              <ExtendRuleProperty Name="idassetClass" SourceVoucherProperty="idAssetClass"/>

            </Account>

          </Entry>
          <Auxiliary>
            <!--<Property Doc="Idcustomer" SourceVoucher="Asset.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Asset.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Asset.Partner.Iddistrict"/>-->
            <Property Doc="Iddepartment" SourceVoucher="idDepartment"/>
            <!--<Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>-->
            <Property Doc="Idproject" SourceVoucher="Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <!--<Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>-->
            <Property Doc="VoucherCode" SourceVoucher="HandleVoucher.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="HandleVoucher.VoucherDate"/>
            <Property Doc="IdVoucherType" SourceVoucher="HandleVoucher.idvoucherType"/>
            <!--<Property Doc="IdIncome" SourceVoucher=""/>
			      <Property Doc="IdExpenseItem" SourceVoucher=""/>
			      <Property Doc="IdWarehouse" SourceVoucher=""/>
			      <Property Doc="IdInventoryClass" SourceVoucher=""/>
			      <Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			       <Property Doc="IdInRdStyle" SourceVoucher=""/>-->
            <!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
            <!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
            <!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="HandleVoucher.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="HandleVoucher.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>

        <!--累计折旧/累计摊销-->
        <TransactionEntry Code="TotalDepr" Name="累计折旧/累计摊销" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="Amount"/>
            <Property Doc="OrigAmountCr" SourceVoucher="Amount"/>
            <Property Doc="OrigAmount" SourceVoucher="Amount"/>
            <Property Doc="Idcurrency" SourceVoucher=""/>
            <Property Doc="ExchangeRate" SourceVoucher=""/>
            <Property Doc="Memoto" SourceVoucher=""/>
            <Property Doc="BillNo" SourceVoucher="HandleVoucher.Code"/>
            <Account AccountRuleType="AssetDepreciationAccount">
              <ExtendRuleProperty Name="idassetProp" SourceVoucherProperty="idAssetProp"/>
              <ExtendRuleProperty Name="idassetClass" SourceVoucherProperty="idAssetClass"/>
            </Account>

          </Entry>
          <Auxiliary>
            <!--<Property Doc="Idcustomer" SourceVoucher="Asset.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Asset.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Asset.Partner.Iddistrict"/>-->
            <Property Doc="Iddepartment" SourceVoucher="idDepartment"/>
            <!--<Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>-->
            <Property Doc="Idproject" SourceVoucher="Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <!--<Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>>-->
            <Property Doc="VoucherCode" SourceVoucher="HandleVoucher.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="HandleVoucher.VoucherDate"/>
            <Property Doc="IdVoucherType" SourceVoucher="HandleVoucher.idvoucherType"/>
            <!--<Property Doc="IdIncome" SourceVoucher=""/>
			      <Property Doc="IdExpenseItem" SourceVoucher=""/>
			      <Property Doc="IdWarehouse" SourceVoucher=""/>
			      <Property Doc="IdInventoryClass" SourceVoucher=""/>
			      <Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			       <Property Doc="IdInRdStyle" SourceVoucher=""/>-->
            <!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
            <!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
            <!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="HandleVoucher.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="HandleVoucher.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>

      </TransactionDoc>
      <DocUpdateBack Title="回写" Type="Ufida.T.UA.AM.FC.DocUpdateBackHandleVoucher2" />
    </Voucher>


    <Voucher Code="AM1030" Name="HandleVoucherDTO" Title="变动单">
      <SimpleQuery Title="简单查询设置" Type="Ufida.T.SM.FC.AbstractSimpleQuery">

        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,如果没有某个字段设置为NULL-->
        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,SELECT部分和WHERE部分都需要配置-->
        <Fields>
          <Property Name="ID" MapProperty="NEWID()" Title="Id" />
          <Property Name="UserId" MapProperty="{UserId}" Title="UserId" />
          <Property Name="IdvoucherType" MapProperty="{IdvoucherType}" Title="单据类型" />
          <Property Name="VoucherId" MapProperty="HandleVoucherDTO.ID" Title="单据Id" />
          <Property Name="VoucherDate" MapProperty="HandleVoucherDTO.VoucherDate" Titile="单据日期"/>
          <Property Name="VoucherCode" MapProperty="HandleVoucherDTO.Code" Titile="单据编号"/>
          <Property Name="VoucherTs" MapProperty="HandleVoucherDTO.Ts" Title="单据时间戳"/>
          <!--<Property Name="IdbusiType" MapProperty="HandleVoucherDTO.ChangeType" Titile="业务类型"/>-->
          <!--<Property Name="Idcurrency" MapProperty="HandleVoucherDTO.Details.Asset.idcurrency" Titile="币种"/>
          <Property Name="IdbankAccount" MapProperty=""  Titile="账号"/>
          <Property Name="Iddepartment" MapProperty="HandleVoucherDTO.Details.Asset.idusedept" Titile="部门"/>
          <Property Name="Idclerck" MapProperty="HandleVoucherDTO.Details.Asset.idperson" Titile="员工"/>-->
          <!--<Property Name="Idsupplier" MapProperty="" Titile="供应商"/>-->
          <!--<Property Name="Idcustomer" MapProperty="HandleVoucherDTO.Details.Asset.idpartner" Titile="往来单位"/>
          <Property Name="Idproject" MapProperty="HandleVoucherDTO.Details.Asset.idproject" Title="项目"/>-->
          <Property Name="OrigAmount" MapProperty="HandleVoucherDTO.SumOrgiValue" Title="金额"/>
          <Property Name="Amount" MapProperty="HandleVoucherDTO.SumOrgiValue" Title="本币金额"/>                    
        </Fields>

        <PropertyFilters>
          <Filter Name="VoucherDate" MapProperty="HandleVoucherDTO.VoucherDate"/>
          <Filter Name="VoucherCode" MapProperty="HandleVoucherDTO.Code"/>
          <!--<Filter Name="SupplierCode" MapProperty=""/>-->
          <!--<Filter Name="CustomerCode" MapProperty="HandleVoucherDTO.Details.Asset.Partner.Code"/>
          <Filter Name="Departments" MapProperty="HandleVoucherDTO.Details.Asset.idusedept"/>
          <Filter Name="Persons" MapProperty="HandleVoucherDTO.Details.Asset.idperson"/>
          <Filter Name="Projects" MapProperty="HandleVoucherDTO.Details.Asset.idproject"/>
          <Filter Name="Currencys" MapProperty="HandleVoucherDTO.Details.Asset.idcurrency"/>-->
          <!--<Filter Name="SettleStyles" MapProperty="ArapReceivePaymentDTO.ArapMultiSettleDetails.idsettleStyle"/>
          <Filter Name="Bankaccounts" MapProperty="ArapReceivePaymentDTO.ArapMultiSettleDetails.idbankAccount"/>-->
          <!--<Filter Name="PartnerClass" MapProperty="HandleVoucherDTO.Details.Asset.Partner.idpartnerclass"/>
          <Filter Name="ProjectClass" MapProperty="HandleVoucherDTO.Details.Asset.Project.idclass"/>-->
          <Filter Name="OrigAmount" MapProperty="HandleVoucherDTO.SumOrgiValue" />
          <Filter Name="Amount" MapProperty="HandleVoucherDTO.SumOrgiValue" />
	  <Filter Name="maker" MapProperty="HandleVoucherDTO.makerid"/> 
	  <Filter Name="auditor" MapProperty="HandleVoucherDTO.makerid"/>
        </PropertyFilters>

        <!--查询单据的过滤条件，多是不生成凭证过滤条件，也可以添加其他的自定义条件-->
        <BusinessFilters ModeName="AM">
          <!--<Filter Name="收付款标识">
            ArapReceivePaymentDTO.isReceiveFlag=1
          </Filter>-->
          <Filter Name="单据类型是变动单">
            HandleVoucherDTO.idvouchertype='C82A844D-6B46-441D-B5D6-0962F1765FBF'
          </Filter>
          <!--<Filter Name="未生效的不生成">
            HandleVoucherDTO.VoucherState={VoucherState.Effective}
          </Filter>-->
          <Filter Name="已生成凭证的业务单据不生成">
            (HandleVoucherDTO.DocId IS NULL or HandleVoucherDTO.DocId='')
          </Filter>
          <Filter Name="该模块启用期间之前的期初单据不生成">
            HandleVoucherDTO.VoucherDate>={ModelOpeningDate}
          </Filter>
		  <Filter Name="生成凭证为否">
			  HandleVoucherDTO.IsGenDoc>='173A2E13-4AD6-4E53-8F97-495BA4117512'
		  </Filter>
        </BusinessFilters>
      </SimpleQuery>
      <FullQuery Name="完整查询设置" Type="Ufida.T.SM.FC.AbstractFullQuery">
        <Header>
          <Property Name="HandleVoucherDTO.ID"  Title="单据ID"/>
          <Property Name="HandleVoucherDTO.TS"  Title="TS"/>
          <Property Name="HandleVoucherDTO.VoucherDate"  Title="单据日期"/>
          <Property Name="HandleVoucherDTO.Code"  Title="单据编号"/>
          <Property Name="HandleVoucherDTO.Memo"  Title="备注"/>
          <Property Name="HandleVoucherDTO.idvouchertype"  Title="单据类型"/>
        </Header>
        <Details>
          <Detail DetailRuleName="Details" DTO="HandleVoucherDetailDTO" FK="IdhandleVoucherDTO" Title="明细">
            <Property Name="HandleVoucherDetailDTO.ID"  Title="ID"/>
            <Property Name="HandleVoucherDetailDTO.TS"  Title="TS"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idprocesstype"  Title="业务类型ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.ProcessType.ID"  Title="业务类型"/>
            <Property Name="HandleVoucherDetailDTO.Asset.ProcessType.Name"  Title="业务类型"/>
            <Property Name="HandleVoucherDetailDTO.Asset.OrigValue"  Title="原值"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.OrigValue"  Title="旧原值"/>
            <Property Name="HandleVoucherDetailDTO.Asset.FunctionOrigValue"  Title="本币原值"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.FunctionOrigValue"  Title="旧本币原值"/>
            <Property Name="HandleVoucherDetailDTO.Asset.InputTax"  Title="进项税额"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.InputTax"  Title="旧进项税额"/>
            <Property Name="HandleVoucherDetailDTO.Asset.TotalDepr"  Title="累计折旧/摊销"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.TotalDepr"  Title="累计折旧/摊销"/>
            <Property Name="HandleVoucherDetailDTO.Asset.NetAmount"  Title="净值"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.NetAmount"  Title="旧净值"/>
            <Property Name="HandleVoucherDetailDTO.Asset.BookValue"  Title="账面价值"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.BookValue"  Title="旧账面价值"/>
            <Property Name="HandleVoucherDetailDTO.Asset.MonthDeprAmount"  Title="月折旧/摊销额"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.MonthDeprAmount"  Title="旧月折旧/摊销额"/>
            <Property Name="HandleVoucherDetailDTO.Asset.SaleTax"  Title="销项税额"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.SaleTax"  Title="旧销项税额"/>
            <Property Name="HandleVoucherDetailDTO.Asset.BizTax"  Title="营业税额"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.BizTax"  Title="旧营业税额"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Impairment"  Title="减值准备"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.Impairment"  Title="旧减值准备"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idCurrency"  Title="币种ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Currency.ID"  Title="币种"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Currency.Name"  Title="币种名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.ExchangeRate"  Title="汇率"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.idusedept"  Title="部门ID"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.UseDept.ID"  Title="部门"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.UseDept.Code"  Title="部门编码"/>
            <Property Name="HandleVoucherDetailDTO.OldAsset.UseDept.Name"  Title="部门名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idusedept"  Title="部门ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.UseDept.ID"  Title="部门"/>
            <Property Name="HandleVoucherDetailDTO.Asset.UseDept.Code"  Title="部门编码"/>
            <Property Name="HandleVoucherDetailDTO.Asset.UseDept.Name"  Title="部门名称"/>            
            <Property Name="HandleVoucherDetailDTO.Asset.idPerson"  Title="人员ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Person.ID"  Title="人员"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Person.Code"  Title="人员编码"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Person.Name"  Title="人员名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idPartner"  Title="往来单位ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Partner.ID"  Title="往来单位"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Partner.Code"  Title="往来单位编码"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Partner.Name"  Title="往来单位名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Partner.IdpartnerClass"  Title="往来单位分类id"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Partner.PartnerClass.ID"  Title="往来单位分类"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Partner.PartnerClass.Name"  Title="往来单位名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idProject"  Title="项目ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Project.ID"  Title="项目"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Project.Name"  Title="项目名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Project.IdClass"  Title="项目分类"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Project.Class.ID"  Title="项目分类"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Project.Class.Name"  Title="项目分类"/>
            <Property Name="HandleVoucherDetailDTO.Asset.Project.Class.Code"  Title="项目分类"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idassetProp"  Title="资产属性ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.AssetProp.ID"  Title="资产属性"/>
            <Property Name="HandleVoucherDetailDTO.Asset.AssetProp.Code"  Title="资产属性编码"/>
            <Property Name="HandleVoucherDetailDTO.Asset.AssetProp.Name"  Title="资产属性名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.idassetClass"  Title="资产分类ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.AssetClass.ID"  Title="资产分类"/>
            <Property Name="HandleVoucherDetailDTO.Asset.AssetClass.Code"  Title="资产分类编码"/>
            <Property Name="HandleVoucherDetailDTO.Asset.AssetClass.Name"  Title="资产分类名称"/>
            <Property Name="HandleVoucherDetailDTO.Asset.iddeprMethod"  Title="折旧方法ID"/>
            <Property Name="HandleVoucherDetailDTO.Asset.DeprMethod.ID"  Title="折旧方法"/>
            <Property Name="HandleVoucherDetailDTO.Asset.DeprMethod.Code"  Title="折旧方法编码"/>
            <Property Name="HandleVoucherDetailDTO.Asset.DeprMethod.Name"  Title="折旧方法名称"/>
	    <Property Name="HandleVoucherDetailDTO.idprocessReason"  Title="变动原因"/>
            <!--<Property Name="HandleVoucherDetailDTO.Asset.pubuserdefnvc1"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefnvc2"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefnvc3"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefnvc4"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefnvc5"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefnvc6"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefdecm1"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefdecm2"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefdecm3"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefdecm4"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefdecm5"/>
            <Property Name="HandleVoucherDetailDTO.Asset.pubuserdefdecm6"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefnvc1"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefnvc2"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefnvc3"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefnvc4"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefnvc5"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefnvc6"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefdecm1"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefdecm2"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefdecm3"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefdecm4"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefdecm5"/>
            <Property Name="HandleVoucherDetailDTO.Asset.priuserdefdecm6"/>-->

          </Detail>
        </Details>

      </FullQuery>
      <TransactionDoc Type="Ufida.T.UA.AM.FC.HandleVoucher3">
        <SummaryFields>
          <Property Name="VoucherTypeId" Mapping="ID" Title="单据类型ID"/>
          <Property Name="BusiTypeId" Mapping="" Title="业务类型ID"/>
          <Property Name="BusiType" Mapping="ChangeType" Title="业务类型"/>
          <Property Name="Partner" Mapping="" Title="往来单位"/>
          <Property Name="Department" Mapping="" Title="部门"/>
          <Property Name="Person" Mapping="" Title="人员"/>
          <Property Name="Memo" Mapping="Memo" Title="备注"/>
        </SummaryFields>
        <!--资产科目-->
        <TransactionEntry Code="AssetAccount" Name="资产科目" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="Asset.OrigValue"/>
            <Property Doc="OrigAmountDr" SourceVoucher="Asset.OrigValue"/>
            <Property Doc="OrigAmount" SourceVoucher="Asset.OrigValue"/>
            <Property Doc="Idcurrency" SourceVoucher="Asset.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="Asset.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Property Doc="BillNo" SourceVoucher="Code"/>
            <Account AccountRuleType="AssetAccount">
              <ExtendRuleProperty Name="idassetProp" SourceVoucherProperty="Asset.idassetProp"/>
              <ExtendRuleProperty Name="idassetClass" SourceVoucherProperty="Asset.idassetClass"/>

            </Account>

          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Asset.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Asset.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Asset.Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="OldAsset.iduseDept"/>
            <!--<Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>-->
            <Property Doc="Idproject" SourceVoucher="Asset.Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Asset.Project.IdClass" Title="项目分类"/>
            <!--<Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>-->
            <Property Doc="VoucherCode" SourceVoucher="HandleVoucher.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="HandleVoucher.VoucherDate"/>
			      <Property Doc="IdVoucherType" SourceVoucher="HandleVoucher.idvouchertype"/>
			      <!--<Property Doc="IdIncome" SourceVoucher=""/>
			      <Property Doc="IdExpenseItem" SourceVoucher=""/>
			      <Property Doc="IdWarehouse" SourceVoucher=""/>
			      <Property Doc="IdInventoryClass" SourceVoucher=""/>
			      <Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			       <Property Doc="IdInRdStyle" SourceVoucher=""/>-->
            <!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
            <!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
            <!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="HandleVoucher.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="HandleVoucher.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>

        <!--资产对方科目-->
        <TransactionEntry Code="AssetOppAccount" Name="资产对方科目" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="Asset.OrigValue"/>
            <Property Doc="OrigAmountCr" SourceVoucher="Asset.OrigValue"/>
            <Property Doc="OrigAmount" SourceVoucher="Asset.OrigValue"/>
            <Property Doc="Idcurrency" SourceVoucher="Asset.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="Asset.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Property Doc="BillNo" SourceVoucher="Code"/>
            <Account AccountRuleType="AssetOppAccount">
              <ExtendRuleProperty Name="idvoucherType" SourceVoucherProperty="Asset.IdprocessType"/>
              <ExtendRuleProperty Name="idincDecWay" SourceVoucherProperty="Asset.idincDecWay"/>
              <ExtendRuleProperty Name="idassetProp" SourceVoucherProperty="Asset.idassetProp"/>
              <ExtendRuleProperty Name="idassetClass" SourceVoucherProperty="Asset.idassetClass"/>
	      <ExtendRuleProperty Name="idhandleReason" SourceVoucherProperty="idprocessReason"/>
            </Account>

          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Asset.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Asset.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Asset.Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="OldAsset.iduseDept"/>
            <!--<Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>-->
            <Property Doc="Idproject" SourceVoucher="Asset.Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Asset.Project.IdClass" Title="项目分类"/>
            <!--<Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>-->
            <Property Doc="VoucherCode" SourceVoucher="HandleVoucher.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="HandleVoucher.VoucherDate"/>
			      <Property Doc="IdVoucherType" SourceVoucher="Asset.IdprocessType"/>
			      <!--<Property Doc="IdIncome" SourceVoucher=""/>
			      <Property Doc="IdExpenseItem" SourceVoucher=""/>
			      <Property Doc="IdWarehouse" SourceVoucher=""/>
			      <Property Doc="IdInventoryClass" SourceVoucher=""/>
			      <Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			       <Property Doc="IdInRdStyle" SourceVoucher=""/>-->
            <!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
            <!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
            <!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="HandleVoucher.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="HandleVoucher.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <!--折旧/累计对方科目-->
        <TransactionEntry Code="AssetDeprOppAccount" Name="折旧/摊销对方科目" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="Asset.TotalDepr"/>
            <Property Doc="OrigAmountDr" SourceVoucher="Asset.TotalDepr"/>
            <Property Doc="OrigAmount" SourceVoucher="Asset.TotalDepr"/>
            <Property Doc="Idcurrency" SourceVoucher="Asset.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="Asset.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Property Doc="BillNo" SourceVoucher="Code"/>
            <Account AccountRuleType="AssetDepreciationOppAccount">
              <ExtendRuleProperty Name="idvouchertype" SourceVoucherProperty="Asset.IdprocessType"/>
              <ExtendRuleProperty Name="iddepartment" SourceVoucherProperty="Asset.idusedept"/>
              <ExtendRuleProperty Name="idassetProp" SourceVoucherProperty="Asset.idassetProp"/>
              <ExtendRuleProperty Name="idassetClass" SourceVoucherProperty="Asset.idassetClass"/>

            </Account>

          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Asset.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Asset.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Asset.Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="OldAsset.iduseDept"/>
            <!--<Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>-->
            <Property Doc="Idproject" SourceVoucher="Asset.Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Asset.Project.IdClass" Title="项目分类"/>
            <!--<Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>-->
            <Property Doc="VoucherCode" SourceVoucher="HandleVoucher.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="HandleVoucher.VoucherDate"/>
            <Property Doc="IdVoucherType" SourceVoucher="Asset.IdprocessType"/>
            <!--<Property Doc="IdIncome" SourceVoucher=""/>
			      <Property Doc="IdExpenseItem" SourceVoucher=""/>
			      <Property Doc="IdWarehouse" SourceVoucher=""/>
			      <Property Doc="IdInventoryClass" SourceVoucher=""/>
			      <Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			       <Property Doc="IdInRdStyle" SourceVoucher=""/>-->
            <!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
            <!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
            <!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="HandleVoucher.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="HandleVoucher.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>

        <!--累计折旧摊销科目-->
        <TransactionEntry Code="TotalDepr" Name="累计折旧摊销科目" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="Asset.TotalDepr"/>
            <Property Doc="OrigAmountCr" SourceVoucher="Asset.TotalDepr"/>
            <Property Doc="OrigAmount" SourceVoucher="Asset.TotalDepr"/>
            <Property Doc="Idcurrency" SourceVoucher="Asset.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="Asset.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Property Doc="BillNo" SourceVoucher="Code"/>
            <Account AccountRuleType="AssetDepreciationAccount">
              <ExtendRuleProperty Name="idassetProp" SourceVoucherProperty="Asset.idassetProp"/>
              <ExtendRuleProperty Name="idassetClass" SourceVoucherProperty="Asset.idassetClass"/>
            </Account>

          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Asset.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Asset.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Asset.Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="OldAsset.iduseDept"/>
            <!--<Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>-->
            <Property Doc="Idproject" SourceVoucher="Asset.Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Asset.Project.IdClass" Title="项目分类"/>
            <!--<Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>-->
            <Property Doc="VoucherCode" SourceVoucher="HandleVoucher.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="HandleVoucher.VoucherDate"/>
			      <Property Doc="IdVoucherType" SourceVoucher="Asset.IdprocessType"/>
			      <!--<Property Doc="IdIncome" SourceVoucher=""/>
			      <Property Doc="IdExpenseItem" SourceVoucher=""/>
			      <Property Doc="IdWarehouse" SourceVoucher=""/>
			      <Property Doc="IdInventoryClass" SourceVoucher=""/>
			      <Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			       <Property Doc="IdInRdStyle" SourceVoucher=""/>-->
            <!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
            <!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
            <!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="HandleVoucher.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="HandleVoucher.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>

      </TransactionDoc>
      <DocUpdateBack Title="回写" Type="Ufida.T.UA.AM.FC.DocUpdateBackHandleVoucher3" />
    </Voucher>
    
    <!--<DocReIndexs>
      <DocReIndex Name="资产卡片" TableName="AM_Asset" DocIdField="DocId" DocCodeField="DocNo"/>
      <DocReIndex Name="资产处理单" TableName="AM_HandleVoucher" DocIdField="DocId" DocCodeField="DocNo"/>
      <DocReIndex Name="资产盘点单" TableName="AM_CheckVoucher" DocIdField="DocId" DocCodeField="DocNo"/>
    </DocReIndexs>-->

  </Modle>
</DocSourceVoucher>
