<?xml version="1.0"?>
<!--文件说明 ： 凭证接口相关配置信息                  -->
<!--    作者 ： 徐芳波                               -->
<!--    日期 ： 2010-6-5                             -->
<!--    说明 ： 更多信息请参考凭证接口设计文档和代码   -->
<DocSourceVoucher>
  <Modle Name="ARAP">
    <Runtimes>
      <Runtime Name="Ufida.T.ARAP.DTO"/>
      <Runtime Name="Ufida.T.UA.ARAP"/>
      <Runtime Name="Ufida.T.SM.FC"/>
    </Runtimes>
    <Voucher Code="ARAP01" Name="ArapReceivePaymentDTO" Title="收款单">
      <SimpleQuery Title="简单查询设置" Type="Ufida.T.SM.FC.AbstractSimpleQuery">

        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,如果没有某个字段设置为NULL-->
        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,SELECT部分和WHERE部分都需要配置-->
        <Fields>
          <Property Name="ID" MapProperty="NEWID()" Title="Id" />
          <Property Name="UserId" MapProperty="{UserId}" Title="UserId" />
          <Property Name="IdvoucherType" MapProperty="{IdvoucherType}" Title="单据类型" />
          <Property Name="VoucherId" MapProperty="ArapReceivePaymentDTO.ID" Title="单据Id" />
          <Property Name="VoucherDate" MapProperty="ArapReceivePaymentDTO.VoucherDate" Titile="单据日期"/>
          <Property Name="VoucherCode" MapProperty="ArapReceivePaymentDTO.Code" Titile="单据编号"/>
          <Property Name="VoucherTs" MapProperty="ArapReceivePaymentDTO.Ts" Title="单据时间戳"/>
          <Property Name="IdbusiType" MapProperty="ArapReceivePaymentDTO.idbusiType" Titile="业务类型"/>
          <Property Name="Idcurrency" MapProperty="ArapReceivePaymentDTO.idcurrency" Titile="币种"/>
          <Property Name="IdbankAccount" MapProperty=""  Titile="账号"/>
          <Property Name="Iddepartment" MapProperty="ArapReceivePaymentDTO.iddepartment" Titile="部门"/>
          <Property Name="Idclerck" MapProperty="ArapReceivePaymentDTO.idperson" Titile="员工"/>
          <!--<Property Name="Idsupplier" MapProperty="" Titile="供应商"/>-->
          <Property Name="Idcustomer" MapProperty="ArapReceivePaymentDTO.idpartner" Titile="往来单位"/>
          <Property Name="Idproject" MapProperty="ArapReceivePaymentDTO.idproject" Title="项目"/>
			<Property Name="OrigAmount" MapProperty="ArapReceivePaymentDTO.OrigAmount" Title="金额"/>
			<Property Name="Amount" MapProperty="ArapReceivePaymentDTO.Amount" Title="本币金额"/>

		</Fields>

        <PropertyFilters>
          <Filter Name="VoucherDate" MapProperty="ArapReceivePaymentDTO.VoucherDate"/>
          <Filter Name="VoucherCode" MapProperty="ArapReceivePaymentDTO.Code"/>
          <!--<Filter Name="SupplierCode" MapProperty=""/>-->
          <Filter Name="CustomerCode" MapProperty="ArapReceivePaymentDTO.Partner.Code"/>
          <Filter Name="Departments" MapProperty="ArapReceivePaymentDTO.iddepartment"/>
          <Filter Name="Persons" MapProperty="ArapReceivePaymentDTO.idperson"/>
          <Filter Name="Projects" MapProperty="ArapReceivePaymentDTO.Details.idDetailProject"/>
          <Filter Name="Currencys" MapProperty="ArapReceivePaymentDTO.idcurrency"/>
          <Filter Name="SettleStyles" MapProperty="ArapReceivePaymentDTO.ArapMultiSettleDetails.idsettleStyle"/>
          <Filter Name="Bankaccounts" MapProperty="ArapReceivePaymentDTO.ArapMultiSettleDetails.idbankAccount"/>
		  <Filter Name="PartnerClass" MapProperty="ArapReceivePaymentDTO.Partner.idpartnerclass"/>
		  <Filter Name="ProjectClass" MapProperty="ArapReceivePaymentDTO.project.idclass"/>
		  <Filter Name="OrigAmount" MapProperty="ArapReceivePaymentDTO.OrigAmount" Title="金额"/>
		  <Filter Name="Amount" MapProperty="ArapReceivePaymentDTO.Amount" Title="本币金额"/>
		  <Filter Name="maker" MapProperty="ArapReceivePaymentDTO.makerid"/>
          <Filter Name="auditor" MapProperty="ArapReceivePaymentDTO.auditorid"/>
		</PropertyFilters>

        <!--查询单据的过滤条件，多是不生成凭证过滤条件，也可以添加其他的自定义条件-->
        <BusinessFilters ModeName="PS">
          <Filter Name="收付款标识">
            ArapReceivePaymentDTO.isReceiveFlag=1
          </Filter>
          <Filter Name="未生效的不生成">
            ArapReceivePaymentDTO.VoucherState={VoucherState.Effective}
          </Filter>
          <Filter Name="已生成凭证的业务单据不生成">
            (ArapReceivePaymentDTO.DocId IS NULL or ArapReceivePaymentDTO.DocId='')
          </Filter>
          <Filter Name="该模块启用期间之前的期初单据不生成">
            ArapReceivePaymentDTO.VoucherDate>={ModelOpeningDate}
          </Filter>
			<Filter Name="所属营销机构 !=“总部”的单据不生成凭证">
				ArapReceivePaymentDTO.IdmarketingOrgan='4AD74463-E871-4DC1-BEB0-6E6EAA0A6386'
			</Filter>
          <Filter Name="自动生成的普通收款不能单独生成凭证">
            (ArapReceivePaymentDTO.IsAuto=0
            or ArapReceivePaymentDTO.IsAuto=1 and ArapReceivePaymentDTO.idbusiType='793EBF93-8999-45FD-9C93-BFCC4101B71F' and ArapReceivePaymentDTO.SaleOrderID is not null
            or
              (
                ArapReceivePaymentDTO.IsAuto=1
                and ArapReceivePaymentDTO.idbusiType='793EBF93-8999-45FD-9C93-BFCC4101B71F'
                and idvouchertype='A5345840-B357-4CFE-94F9-C0AC51B26718'
              )
            )
          </Filter>
        </BusinessFilters>
      </SimpleQuery>
      <FullQuery Name="完整查询设置" Type="Ufida.T.SM.FC.AbstractFullQuery">
        <Header>
          <Property Name="ArapReceivePaymentDTO.ID"  Title="单据ID"/>
          <Property Name="ArapReceivePaymentDTO.TS"  Title="TS"/>
          <Property Name="ArapReceivePaymentDTO.idBusiType"  Title="业务类型ID"/>
          <Property Name="ArapReceivePaymentDTO.BusiType.ID"  Title="业务类型"/>
          <Property Name="ArapReceivePaymentDTO.BusiType.Name"  Title="业务类型"/>
          <Property Name="ArapReceivePaymentDTO.VoucherDate"  Title="单据日期"/>
          <Property Name="ArapReceivePaymentDTO.Code"  Title="单据编号"/>
          <Property Name="ArapReceivePaymentDTO.Memo"  Title="备注"/>
          <Property Name="ArapReceivePaymentDTO.PaymentAmount"  Title="使用预收本币"/>
          <Property Name="ArapReceivePaymentDTO.OrigPaymentAmount"  Title="使用预收"/>
          <Property Name="ArapReceivePaymentDTO.Allowances"  Title="折让（本币）"/>
          <Property Name="ArapReceivePaymentDTO.OrigAllowances"  Title="折让"/>
          <Property Name="ArapReceivePaymentDTO.Amount"  Title="收款金额合计（本币）"/>
          <Property Name="ArapReceivePaymentDTO.OrigAmount"  Title="收款金额合计"/>
          <Property Name="ArapReceivePaymentDTO.CancelAmount"  Title="结款金额（本币）合计"/>
          <Property Name="ArapReceivePaymentDTO.CancelOrigAmount"  Title="结款金额合计"/>
          <Property Name="ArapReceivePaymentDTO.Error"  Title="异币种核销误差"/>
          <Property Name="ArapReceivePaymentDTO.idCurrency"  Title="币种ID"/>
          <Property Name="ArapReceivePaymentDTO.Currency.ID"  Title="币种"/>
          <Property Name="ArapReceivePaymentDTO.Currency.Name"  Title="币种名称"/>
          <Property Name="ArapReceivePaymentDTO.ExchangeRate"  Title="汇率"/>
          <Property Name="ArapReceivePaymentDTO.idDepartment"  Title="部门ID"/>
          <Property Name="ArapReceivePaymentDTO.Department.ID"  Title="部门"/>
          <Property Name="ArapReceivePaymentDTO.Department.Code"  Title="部门编码"/>
          <Property Name="ArapReceivePaymentDTO.Department.Name"  Title="部门名称"/>
          <Property Name="ArapReceivePaymentDTO.idPerson"  Title="人员ID"/>
          <Property Name="ArapReceivePaymentDTO.Person.ID"  Title="人员"/>
          <Property Name="ArapReceivePaymentDTO.Person.Code"  Title="人员编码"/>
          <Property Name="ArapReceivePaymentDTO.Person.Name"  Title="人员名称"/>
          <Property Name="ArapReceivePaymentDTO.idPartner"  Title="往来单位ID"/>
          <Property Name="ArapReceivePaymentDTO.Partner.ID"  Title="往来单位"/>
          <Property Name="ArapReceivePaymentDTO.Partner.Code"  Title="往来单位编码"/>
          <Property Name="ArapReceivePaymentDTO.Partner.Name"  Title="往来单位名称"/>
		  <Property Name="ArapReceivePaymentDTO.Partner.Iddistrict"  Title="地区"/>
          <Property Name="ArapReceivePaymentDTO.Partner.IdpartnerClass"  Title="往来单位分类id"/>
          <Property Name="ArapReceivePaymentDTO.Partner.PartnerClass.ID"  Title="往来单位分类"/>
          <Property Name="ArapReceivePaymentDTO.Partner.PartnerClass.Name"  Title="往来单位名称"/>
          <Property Name="ArapReceivePaymentDTO.idProject"  Title="项目ID"/>
          <Property Name="ArapReceivePaymentDTO.Project.ID"  Title="项目"/>
          <Property Name="ArapReceivePaymentDTO.Project.IdClass"  Title="项目分类"/>
			<Property Name="ArapReceivePaymentDTO.Project.Class.ID"  Title="项目分类"/>
			<Property Name="ArapReceivePaymentDTO.Project.Class.Name"  Title="项目分类"/>
			<Property Name="ArapReceivePaymentDTO.Project.Class.Code"  Title="项目分类"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefnvc1"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefnvc2"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefnvc3"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefnvc4"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefnvc5"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefnvc6"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefdecm1"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefdecm2"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefdecm3"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefdecm4"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefdecm5"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefdecm6"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefnvc1"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefnvc2"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefnvc3"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefnvc4"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefnvc5"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefnvc6"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefdecm1"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefdecm2"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefdecm3"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefdecm4"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefdecm5"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefdecm6"/>
        </Header>
        <Details>
          <Detail DetailRuleName="ArapMultiSettleDetails" DTO="ArapMultiSettleDetailDTO" FK="IdarapReceivePaymentDTO" Title="多结算明细">
            <Property Name="ArapMultiSettleDetailDTO.ID"  Title="ID"/>
            <Property Name="ArapMultiSettleDetailDTO.TS"  Title="TS"/>
            <Property Name="ArapMultiSettleDetailDTO.idSettleStyle"  Title="结算方式id"/>
            <Property Name="ArapMultiSettleDetailDTO.SettleStyle.ID"  Title="结算方式"/>
            <Property Name="ArapMultiSettleDetailDTO.idBankAccount"  Title="账号id"/>
            <Property Name="ArapMultiSettleDetailDTO.BankAccount.ID"  Title="账号"/>
            <Property Name="ArapMultiSettleDetailDTO.BankAccount.BankNoType.ID"  Title="账号类型id"/>
            <Property Name="ArapMultiSettleDetailDTO.BankAccount.Idcurrency"  Title="账号币种id"/>
            <Property Name="ArapMultiSettleDetailDTO.DocumentCode"  Title="票据号"/>
            <Property Name="ArapMultiSettleDetailDTO.Amount"  Title="收款金额本币"/>
            <Property Name="ArapMultiSettleDetailDTO.OrigAmount"  Title="收款金额"/>
          </Detail>
          <Detail DetailRuleName="Details" DTO="ArapReceivePaymentDetailDTO" FK="IdarapReceivePaymentDTO" Title="核销明细">
            <Property Name="ArapReceivePaymentDetailDTO.ID"  Title="ID"/>
            <Property Name="ArapReceivePaymentDetailDTO.TS"  Title="TS"/>
            <Property Name="ArapReceivePaymentDetailDTO.CurrentAmount"  Title="结款金额本币"/>
            <Property Name="ArapReceivePaymentDetailDTO.OrigCurrentAmount"  Title="结款金额"/>
            <Property Name="ArapReceivePaymentDetailDTO.IdvoucherType"  Title="单据类型ID"/>
            <Property Name="ArapReceivePaymentDetailDTO.idCurrency"  Title="币种ID"/>
            <Property Name="ArapReceivePaymentDetailDTO.ExchangeRate"  Title="汇率"/>
            <Property Name="ArapReceivePaymentDetailDTO.idDepartment"  Title="部门ID"/>
            <Property Name="ArapReceivePaymentDetailDTO.idPerson"  Title="人员ID"/>
            <Property Name="ArapReceivePaymentDetailDTO.idPartner"  Title="往来单位ID"/>
			<Property Name="ArapReceivePaymentDetailDTO.Partner.Iddistrict"  Title="地区"/>
            <Property Name="ArapReceivePaymentDetailDTO.Partner.ID"  Title="往来单位"/>
            <Property Name="ArapReceivePaymentDetailDTO.Partner.IdpartnerClass"  Title="往来单位分类id"/>
            <Property Name="ArapReceivePaymentDetailDTO.idProject"  Title="项目ID"/>
            <Property Name="ArapReceivePaymentDetailDTO.idDetailProject"  Title="明细项目ID"/>
			<Property Name="ArapReceivePaymentDetailDTO.DetailId"  Title="存货ID"/>
          </Detail>
        </Details>
      </FullQuery>
      <TransactionDoc Type="Ufida.T.UA.ARAP.FC.ReceiveVoucher">
        <SummaryFields>
          <Property Name="VoucherTypeId" Mapping="ID" Title="单据类型ID"/>
          <Property Name="BusiTypeId" Mapping="idBusiType" Title="业务类型ID"/>
          <Property Name="BusiType" Mapping="BusiType.Name" Title="业务类型"/>
          <Property Name="Partner" Mapping="Partner.Name" Title="往来单位"/>
          <Property Name="Department" Mapping="Department.Name" Title="部门"/>
          <Property Name="Person" Mapping="Person.Name" Title="人员"/>
          <Property Name="Memo" Mapping="Memo" Title="备注"/>
        </SummaryFields>
        <!--普通收款-->
        <TransactionEntry Code="DebitFromSettleDetail" Name="结算明细生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="Amount"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapReceivePayment.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="ArapReceivePayment.Memo"/>
            <Property Doc="BillNo" SourceVoucher="DocumentCode"/>
            <Account AccountRuleType="Cash">
              <ExtendRuleProperty Name="IdbankAccount" SourceVoucherProperty="IdbankAccount"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="BankAccount.Idcurrency"/>
              <ExtendRuleProperty Name="Iddepartment" SourceVoucherProperty="ArapReceivePayment.Iddepartment"/>
            </Account>
            <Account AccountRuleType="Bank">
              <ExtendRuleProperty Name="IdbankAccount" SourceVoucherProperty="IdbankAccount"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="BankAccount.Idcurrency"/>
              <ExtendRuleProperty Name="Iddepartment" SourceVoucherProperty="ArapReceivePayment.Iddepartment"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapReceivePayment.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="ArapReceivePayment.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="ArapReceivePayment.Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="ArapReceivePayment.Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>
            <Property Doc="Idproject" SourceVoucher="ArapReceivePayment.Idproject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="ArapReceivePayment.Project.IdClass" Title="项目分类"/>
            <Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapReceivePayment.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapReceivePayment.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapReceivePayment.idvouchertype"/>
			<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>
			<!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
			<!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapReceivePayment.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapReceivePayment.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="DebitFromAdv" Name="使用预收>0时,预收生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="PaymentAmount"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigPaymentAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigPaymentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Account AccountRuleType="AdvReceive">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="Idpartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="Idproject"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="priuserdefdecm6"/>
			  
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="Idproject" SourceVoucher="Idproject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdDistrict" SourceVoucher="Partner.iddistrict"/>-->
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="DebitFromCashDiscount" Name="折让大于0时,现金折扣生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="Allowances"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigAllowances"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigAllowances"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Account AccountRuleType="CashDiscount">
				<ExtendRuleProperty Name="Idvouchertype" SourceVoucherProperty="{IdvoucherType}"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="idbusiType" SourceVoucher="idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdDistrict" SourceVoucher="Partner.iddistrict"/>-->
			<!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="DebitFromExchangeAdjust" Name="异币种核算实际差异不等于0时,汇兑损益生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Account AccountRuleType="ExchangeGainsOrLosses">
				<ExtendRuleProperty Name="ProfitLossType" SourceVoucherProperty="ProfitLossType"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="idbusiType" SourceVoucher="idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdDistrict" SourceVoucher="Partner.iddistrict"/>-->
			<!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromAr" Name="应收生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="CurrentAmount"/>
            <Property Doc="OrigAmountCr" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="ArapReceivePayment.Memo"/>
            <Account AccountRuleType="Ar">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapReceivePayment.Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapReceivePayment.Idpartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapReceivePayment.Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="idDetailProject"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
				<ExtendRuleProperty Name="IdInventory" SourceVoucherProperty="DetailID"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm6"/>
            </Account>
            <Account AccountRuleType="OtherAr">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapReceivePayment.Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapReceivePayment.Idpartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapReceivePayment.Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="idDetailProject"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm6"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapReceivePayment.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="ArapReceivePayment.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="ArapReceivePayment.Partner.Iddistrict"/>
			      <Property Doc="Iddepartment" SourceVoucher="ArapReceivePayment.Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="ArapReceivePayment.Project.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapReceivePayment.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapReceivePayment.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapReceivePayment.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdDistrict" SourceVoucher="ArapReceivePayment.Partner.iddistrict"/>-->
			<!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapReceivePayment.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapReceivePayment.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromOverReceive" Name="超收转预收生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Account AccountRuleType="AdvReceive">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="Idpartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="Idproject"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="pubuserdefnvc1"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="pubuserdefnvc2"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="pubuserdefnvc3"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="pubuserdefnvc4"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="pubuserdefnvc5"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="pubuserdefnvc6"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="pubuserdefdecm1"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="pubuserdefdecm2"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="pubuserdefdecm3"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="pubuserdefdecm4"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="pubuserdefdecm5"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="pubuserdefdecm6"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="priuserdefnvc1"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="priuserdefnvc2"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="priuserdefnvc3"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="priuserdefnvc4"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="priuserdefnvc5"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="priuserdefnvc6"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="priuserdefdecm1"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="priuserdefdecm2"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="priuserdefdecm3"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="priuserdefdecm4"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="priuserdefdecm5"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="priuserdefdecm6"/>
			        <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="Idproject" SourceVoucher="Idproject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdDistrict" SourceVoucher="Partner.iddistrict"/>-->
			<!--<Property Doc="BankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <!--普通收款-->
        <!--预收款-->
        <TransactionEntry Code="DebitFromSettleDetailAdvReceive" Name="结算明细生成借方"  DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="Amount"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapReceivePayment.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="ArapReceivePayment.Memo"/>
            <Property Doc="BillNo" SourceVoucher="DocumentCode"/>
            <Account AccountRuleType="Cash">
              <ExtendRuleProperty Name="IdbankAccount" SourceVoucherProperty="IdbankAccount"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="BankAccount.Idcurrency"/>
              <ExtendRuleProperty Name="Iddepartment" SourceVoucherProperty="ArapReceivePayment.Iddepartment"/>
            </Account>
            <Account AccountRuleType="Bank">
              <ExtendRuleProperty Name="IdbankAccount" SourceVoucherProperty="IdbankAccount"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="BankAccount.Idcurrency"/>
              <ExtendRuleProperty Name="Iddepartment" SourceVoucherProperty="ArapReceivePayment.Iddepartment"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapReceivePayment.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="ArapReceivePayment.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="ArapReceivePayment.Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="ArapReceivePayment.Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>
            <Property Doc="Idproject" SourceVoucher="ArapReceivePayment.Idproject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="ArapReceivePayment.Project.IdClass" Title="项目分类"/>
            <Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapReceivePayment.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapReceivePayment.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapReceivePayment.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapReceivePayment.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapReceivePayment.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromAdvReceive" Name="预收生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="Amount"/>
            <Property Doc="OrigAmountCr" SourceVoucher="OrigAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Account AccountRuleType="AdvReceive">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="Idpartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="Idproject"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="priuserdefdecm6"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="Idproject" SourceVoucher="Idproject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="DebitFromAdvReceiveCashDiscount" Name="预收款现金折扣生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="Allowances"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigAllowances"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigAllowances"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Account AccountRuleType="CashDiscount">
              <ExtendRuleProperty Name="Idvouchertype" SourceVoucherProperty="{IdvoucherType}"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="idbusiType" SourceVoucher="idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
            <Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        
        <!--预收款-->
      </TransactionDoc>
      <DocUpdateBack Title="回写" Type="Ufida.T.UA.ARAP.FC.DocUpdateBackArapReceivePayment" />
    </Voucher>
    <Voucher Code="ARAP02" Name="ArapReceivePaymentDTO"  Title="付款单">
      <SimpleQuery Title="简单查询设置" Type="Ufida.T.SM.FC.AbstractSimpleQuery">

        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,如果没有某个字段设置为NULL-->
        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,SELECT部分和WHERE部分都需要配置-->
        <Fields>
          <Property Name="ID" MapProperty="NEWID()" Title="Id" />
          <Property Name="UserId" MapProperty="{UserId}" Title="UserId" />
          <Property Name="IdvoucherType" MapProperty="{IdvoucherType}" Title="单据类型" />
          <Property Name="VoucherId" MapProperty="ArapReceivePaymentDTO.ID" Title="单据Id" />
          <Property Name="VoucherDate" MapProperty="ArapReceivePaymentDTO.VoucherDate" Titile="单据日期"/>
          <Property Name="VoucherCode" MapProperty="ArapReceivePaymentDTO.Code" Titile="单据编号"/>
          <Property Name="VoucherTs" MapProperty="ArapReceivePaymentDTO.Ts" Title="单据时间戳"/>
          <Property Name="IdbusiType" MapProperty="ArapReceivePaymentDTO.idbusiType" Titile="业务类型"/>
          <Property Name="Idcurrency" MapProperty="ArapReceivePaymentDTO.idcurrency" Titile="币种"/>
          <Property Name="IdbankAccount" MapProperty=""  Titile="账号"/>
          <Property Name="Iddepartment" MapProperty="ArapReceivePaymentDTO.iddepartment" Titile="部门"/>
          <Property Name="Idclerck" MapProperty="ArapReceivePaymentDTO.idperson" Titile="员工"/>
          <Property Name="Idcustomer" MapProperty="ArapReceivePaymentDTO.idpartner" Titile="往来单位"/>
          <!--<Property Name="Idcustomer" MapProperty="" Titile="客户"/>-->
          <Property Name="Idproject" MapProperty="ArapReceivePaymentDTO.idproject" Title="项目"/>
			<Property Name="OrigAmount" MapProperty="ArapReceivePaymentDTO.OrigAmount" Title="金额"/>
			<Property Name="Amount" MapProperty="ArapReceivePaymentDTO.Amount" Title="本币金额"/>
        </Fields>

        <PropertyFilters>
          <Filter Name="VoucherDate" MapProperty="ArapReceivePaymentDTO.VoucherDate"/>
          <Filter Name="VoucherCode" MapProperty="ArapReceivePaymentDTO.Code"/>
          <Filter Name="CustomerCode" MapProperty="ArapReceivePaymentDTO.Partner.Code"/>
          <!--<Filter Name="SupplierCode" MapProperty=""/>-->
          <Filter Name="Departments" MapProperty="ArapReceivePaymentDTO.iddepartment"/>
          <Filter Name="Persons" MapProperty="ArapReceivePaymentDTO.idperson"/>
          <Filter Name="Projects" MapProperty="ArapReceivePaymentDTO.Details.idDetailProject"/>
          <Filter Name="Currencys" MapProperty="ArapReceivePaymentDTO.idcurrency"/>
          <Filter Name="SettleStyles" MapProperty="ArapReceivePaymentDTO.ArapMultiSettleDetails.idsettleStyle"/>
          <Filter Name="Bankaccounts" MapProperty="ArapReceivePaymentDTO.ArapMultiSettleDetails.idbankAccount"/>
		  <Filter Name="PartnerClass" MapProperty="ArapReceivePaymentDTO.Partner.idpartnerclass"/>
		  <Filter Name="ProjectClass" MapProperty="ArapReceivePaymentDTO.project.idclass"/>
		  <Filter Name="OrigAmount" MapProperty="ArapReceivePaymentDTO.OrigAmount" Title="金额"/>
		  <Filter Name="Amount" MapProperty="ArapReceivePaymentDTO.Amount" Title="本币金额"/>
		  <Filter Name="maker" MapProperty="ArapReceivePaymentDTO.makerid"/>
          <Filter Name="auditor" MapProperty="ArapReceivePaymentDTO.auditorid"/>
        </PropertyFilters>

        <!--查询单据的过滤条件，多是不生成凭证过滤条件，也可以添加其他的自定义条件-->
        <BusinessFilters ModeName="PS">
          <Filter Name="收付款标识">
            ArapReceivePaymentDTO.isReceiveFlag=0
          </Filter>
          <Filter Name="未生效的不生成">
            ArapReceivePaymentDTO.VoucherState={VoucherState.Effective}
          </Filter>
          <Filter Name="已生成凭证的业务单据不生成">
            (ArapReceivePaymentDTO.DocId IS NULL or ArapReceivePaymentDTO.DocId='')
          </Filter>
          <Filter Name="该模块启用期间之前的期初单据不生成">
            ArapReceivePaymentDTO.VoucherDate>={ModelOpeningDate}
          </Filter>
			<Filter Name="所属营销机构 !=“总部”的单据不生成凭证">
				ArapReceivePaymentDTO.IdmarketingOrgan='4AD74463-E871-4DC1-BEB0-6E6EAA0A6386'
			</Filter>
          <Filter Name="自动生成的普通付款不能单独生成凭证">
            (ArapReceivePaymentDTO.IsAuto=0
            or ArapReceivePaymentDTO.IsAuto=1 and ArapReceivePaymentDTO.idbusiType='3207D8C0-A762-492F-9962-F6374396D5F6' and ArapReceivePaymentDTO.PurchaseOrderID is not null)
          </Filter>
        </BusinessFilters>
      </SimpleQuery>
      <FullQuery Name="完整查询设置" Type="Ufida.T.SM.FC.AbstractFullQuery">
        <Header>
          <Property Name="ArapReceivePaymentDTO.ID"  Title="单据ID"/>
          <Property Name="ArapReceivePaymentDTO.TS"  Title="TS"/>
          <Property Name="ArapReceivePaymentDTO.idBusiType"  Title="业务类型ID"/>
          <Property Name="ArapReceivePaymentDTO.BusiType.ID"  Title="业务类型ID"/>
          <Property Name="ArapReceivePaymentDTO.BusiType.Name"  Title="业务类型"/>
          <Property Name="ArapReceivePaymentDTO.VoucherDate"  Title="单据日期"/>
          <Property Name="ArapReceivePaymentDTO.Code"  Title="单据编号"/>
          <Property Name="ArapReceivePaymentDTO.Memo"  Title="备注"/>
          <Property Name="ArapReceivePaymentDTO.PaymentAmount"  Title="使用预付本币"/>
          <Property Name="ArapReceivePaymentDTO.OrigPaymentAmount"  Title="使用预付"/>
          <Property Name="ArapReceivePaymentDTO.Allowances"  Title="折让（本币）"/>
          <Property Name="ArapReceivePaymentDTO.OrigAllowances"  Title="折让"/>
          <Property Name="ArapReceivePaymentDTO.Amount"  Title="付款金额合计（本币）"/>
          <Property Name="ArapReceivePaymentDTO.OrigAmount"  Title="付款金额合计"/>
          <Property Name="ArapReceivePaymentDTO.CancelAmount"  Title="结款金额（本币）合计"/>
          <Property Name="ArapReceivePaymentDTO.CancelOrigAmount"  Title="结款金额合计"/>
          <Property Name="ArapReceivePaymentDTO.Error"  Title="异币种核销误差"/>
          <Property Name="ArapReceivePaymentDTO.idCurrency"  Title="币种ID"/>
          <Property Name="ArapReceivePaymentDTO.Currency.ID"  Title="币种"/>
          <Property Name="ArapReceivePaymentDTO.Currency.Name"  Title="币种名称"/>
          <Property Name="ArapReceivePaymentDTO.ExchangeRate"  Title="汇率"/>
          <Property Name="ArapReceivePaymentDTO.idDepartment"  Title="部门ID"/>
          <Property Name="ArapReceivePaymentDTO.Department.ID"  Title="部门"/>
          <Property Name="ArapReceivePaymentDTO.Department.Code"  Title="部门编码"/>
          <Property Name="ArapReceivePaymentDTO.Department.Name"  Title="部门名称"/>
          <Property Name="ArapReceivePaymentDTO.idPerson"  Title="人员ID"/>
          <Property Name="ArapReceivePaymentDTO.Person.ID"  Title="人员"/>
          <Property Name="ArapReceivePaymentDTO.Person.Code"  Title="人员编码"/>
          <Property Name="ArapReceivePaymentDTO.Person.Name"  Title="人员名称"/>
          <Property Name="ArapReceivePaymentDTO.idPartner"  Title="往来单位ID"/>
          <Property Name="ArapReceivePaymentDTO.Partner.ID"  Title="往来单位"/>
          <Property Name="ArapReceivePaymentDTO.Partner.Code"  Title="往来单位编码"/>
          <Property Name="ArapReceivePaymentDTO.Partner.Name"  Title="往来单位名称"/>
		  <Property Name="ArapReceivePaymentDTO.Partner.Iddistrict"  Title="地区"/>
          <Property Name="ArapReceivePaymentDTO.Partner.IdpartnerClass"  Title="往来单位分类id"/>
          <Property Name="ArapReceivePaymentDTO.Partner.PartnerClass.ID"  Title="往来单位分类"/>
          <Property Name="ArapReceivePaymentDTO.Partner.PartnerClass.Name"  Title="往来单位名称"/>
          <Property Name="ArapReceivePaymentDTO.idProject"  Title="项目ID"/>
          <Property Name="ArapReceivePaymentDTO.Project.ID"  Title="项目"/>
			<Property Name="ArapReceivePaymentDTO.Project.Code"  Title="项目"/>
          <Property Name="ArapReceivePaymentDTO.Project.Name"  Title="项目名称"/>
			<Property Name="ArapReceivePaymentDTO.Project.IdClass"  Title="项目分类"/>
			<Property Name="ArapReceivePaymentDTO.Project.Class.ID"  Title="项目分类"/>
			<Property Name="ArapReceivePaymentDTO.Project.Class.Name"  Title="项目分类"/>
			<Property Name="ArapReceivePaymentDTO.Project.Class.Code"  Title="项目分类"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefnvc1"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefnvc2"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefnvc3"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefnvc4"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefnvc5"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefnvc6"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefdecm1"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefdecm2"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefdecm3"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefdecm4"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefdecm5"/>
		  <Property Name="ArapReceivePaymentDTO.pubuserdefdecm6"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefnvc1"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefnvc2"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefnvc3"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefnvc4"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefnvc5"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefnvc6"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefdecm1"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefdecm2"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefdecm3"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefdecm4"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefdecm5"/>
		  <Property Name="ArapReceivePaymentDTO.priuserdefdecm6"/>
        </Header>
        <Details>
          <Detail DetailRuleName="ArapMultiSettleDetails" DTO="ArapMultiSettleDetailDTO" FK="IdarapReceivePaymentDTO" Title="多结算明细">
            <Property Name="ArapMultiSettleDetailDTO.ID"  Title="ID"/>
            <Property Name="ArapMultiSettleDetailDTO.TS"  Title="TS"/>
            <Property Name="ArapMultiSettleDetailDTO.idSettleStyle"  Title="结算方式id"/>
            <Property Name="ArapMultiSettleDetailDTO.SettleStyle.ID"  Title="结算方式"/>
            <Property Name="ArapMultiSettleDetailDTO.idBankAccount"  Title="账号id"/>
            <Property Name="ArapMultiSettleDetailDTO.BankAccount.ID"  Title="账号"/>
            <Property Name="ArapMultiSettleDetailDTO.BankAccount.BankNoType.ID"  Title="账号类型id"/>
            <Property Name="ArapMultiSettleDetailDTO.BankAccount.Idcurrency"  Title="账号币种id"/>
            <Property Name="ArapMultiSettleDetailDTO.DocumentCode"  Title="票据号"/>
            <Property Name="ArapMultiSettleDetailDTO.Amount"  Title="付款金额本币"/>
            <Property Name="ArapMultiSettleDetailDTO.OrigAmount"  Title="付款金额"/>
          </Detail>
          <Detail DetailRuleName="Details" DTO="ArapReceivePaymentDetailDTO" FK="IdarapReceivePaymentDTO" Title="核销明细">
            <Property Name="ArapReceivePaymentDetailDTO.CurrentAmount"  Title="结款金额本币"/>
            <Property Name="ArapReceivePaymentDetailDTO.OrigCurrentAmount"  Title="结款金额"/>
            <Property Name="ArapReceivePaymentDetailDTO.IdvoucherType"  Title="单据类型ID"/>
            <Property Name="ArapReceivePaymentDetailDTO.idCurrency"  Title="币种ID"/>
            <Property Name="ArapReceivePaymentDetailDTO.ExchangeRate"  Title="汇率"/>
            <Property Name="ArapReceivePaymentDetailDTO.idDepartment"  Title="部门ID"/>
            <Property Name="ArapReceivePaymentDetailDTO.idPerson"  Title="人员ID"/>
            <Property Name="ArapReceivePaymentDetailDTO.idPartner"  Title="往来单位ID"/>
            <Property Name="ArapReceivePaymentDetailDTO.Partner.ID"  Title="往来单位"/>
			<Property Name="ArapReceivePaymentDetailDTO.Partner.Iddistrict"  Title="地区"/>
            <Property Name="ArapReceivePaymentDetailDTO.Partner.IdpartnerClass"  Title="往来单位分类id"/>
            <Property Name="ArapReceivePaymentDetailDTO.idProject"  Title="项目ID"/>
            <Property Name="ArapReceivePaymentDetailDTO.idDetailProject"  Title="明细项目ID"/>
			<Property Name="ArapReceivePaymentDetailDTO.DetailID"  Title="存货ID"/>
          </Detail>
        </Details>
      </FullQuery>
      <TransactionDoc Type="Ufida.T.UA.ARAP.FC.PaymentVoucher">
        <SummaryFields>
          <Property Name="VoucherTypeId" Mapping="ID" Title="单据类型ID"/>
          <Property Name="BusiTypeId" Mapping="idBusiType" Title="业务类型ID"/>
          <Property Name="BusiType" Mapping="BusiType.Name" Title="业务类型"/>
          <Property Name="Partner" Mapping="Partner.Name" Title="往来单位"/>
          <Property Name="Department" Mapping="Department.Name" Title="部门"/>
          <Property Name="Person" Mapping="Person.Name" Title="人员"/>
          <Property Name="Memo" Mapping="Memo" Title="备注"/>
        </SummaryFields>
        <!--普通付款-->
        <TransactionEntry Code="DebitFromAp" Name="应付生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="CurrentAmount"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="ArapReceivePayment.Memo"/>
            <Account AccountRuleType="Ap">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapReceivePayment.Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapReceivePayment.Idpartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapReceivePayment.Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="idDetailProject"/>
				<ExtendRuleProperty Name="IdInventory" SourceVoucherProperty="DetailID"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
            </Account>
            <Account AccountRuleType="OtherAp">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapReceivePayment.Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapReceivePayment.Idpartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapReceivePayment.Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="idDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapReceivePayment.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapReceivePayment.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapReceivePayment.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapReceivePayment.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapReceivePayment.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="ArapReceivePayment.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="ArapReceivePayment.Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="ArapReceivePayment.Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapReceivePayment.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapReceivePayment.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapReceivePayment.idvouchertype"/>
			  <Property Doc="IdprojectClass" SourceVoucher="ArapReceivePayment.Project.IdClass" Title="项目分类"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapReceivePayment.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapReceivePayment.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="DebitFromOverPayment" Name="超付转预付生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Account AccountRuleType="AdvPayment">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="Idpartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="Idproject"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="pubuserdefnvc1"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="pubuserdefnvc2"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="pubuserdefnvc3"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="pubuserdefnvc4"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="pubuserdefnvc5"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="pubuserdefnvc6"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="pubuserdefdecm1"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="pubuserdefdecm2"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="pubuserdefdecm3"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="pubuserdefdecm4"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="pubuserdefdecm5"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="pubuserdefdecm6"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="priuserdefnvc1"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="priuserdefnvc2"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="priuserdefnvc3"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="priuserdefnvc4"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="priuserdefnvc5"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="priuserdefnvc6"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="priuserdefdecm1"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="priuserdefdecm2"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="priuserdefdecm3"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="priuserdefdecm4"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="priuserdefdecm5"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="Idproject" SourceVoucher="Idproject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromSettleDetail" Name="结算明细生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="Amount"/>
            <Property Doc="OrigAmountCr" SourceVoucher="OrigAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapReceivePayment.ExchangeRate"/>
            <Property Doc="BillNo" SourceVoucher="DocumentCode"/>
            <Property Doc="Memoto" SourceVoucher="ArapReceivePayment.Memo"/>
            <Account AccountRuleType="Cash">
              <ExtendRuleProperty Name="IdbankAccount" SourceVoucherProperty="IdbankAccount"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="BankAccount.Idcurrency"/>
              <ExtendRuleProperty Name="Iddepartment" SourceVoucherProperty="ArapReceivePayment.Iddepartment"/>
            </Account>
            <Account AccountRuleType="Bank">
              <ExtendRuleProperty Name="IdbankAccount" SourceVoucherProperty="IdbankAccount"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="BankAccount.Idcurrency"/>
              <ExtendRuleProperty Name="Iddepartment" SourceVoucherProperty="ArapReceivePayment.Iddepartment"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapReceivePayment.Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="ArapReceivePayment.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="ArapReceivePayment.Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="ArapReceivePayment.Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>
            <Property Doc="Idproject" SourceVoucher="ArapReceivePayment.Idproject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="ArapReceivePayment.Project.IdClass" Title="项目分类"/>
            <Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="InvoiceCode" SourceVoucher="DocumentCode"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapReceivePayment.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapReceivePayment.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapReceivePayment.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapReceivePayment.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapReceivePayment.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromAdv" Name="使用预付>0时,预付生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="PaymentAmount"/>
            <Property Doc="OrigAmountCr" SourceVoucher="OrigPaymentAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigPaymentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Account AccountRuleType="AdvPayment">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="Idpartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="Idproject"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="pubuserdefnvc1"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="pubuserdefnvc2"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="pubuserdefnvc3"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="pubuserdefnvc4"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="pubuserdefnvc5"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="pubuserdefnvc6"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="pubuserdefdecm1"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="pubuserdefdecm2"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="pubuserdefdecm3"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="pubuserdefdecm4"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="pubuserdefdecm5"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="pubuserdefdecm6"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="priuserdefnvc1"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="priuserdefnvc2"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="priuserdefnvc3"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="priuserdefnvc4"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="priuserdefnvc5"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="priuserdefnvc6"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="priuserdefdecm1"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="priuserdefdecm2"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="priuserdefdecm3"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="priuserdefdecm4"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="priuserdefdecm5"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="Idproject" SourceVoucher="Idproject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromCashDiscount" Name="折让大于0时,现金折扣生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="Allowances"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigAllowances"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigAllowances"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Account AccountRuleType="CashDiscount">
				<ExtendRuleProperty Name="Idvouchertype" SourceVoucherProperty="{IdvoucherType}"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="idbusiType" SourceVoucher="idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromExchangeAdjust" Name="异币种核算实际差异不等于0时,汇兑损益生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Account AccountRuleType="ExchangeGainsOrLosses">
				<ExtendRuleProperty Name="ProfitLossType" SourceVoucherProperty="ProfitLossType"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="idbusiType" SourceVoucher="idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <!--普通付款-->
        <!--预付款-->
        <TransactionEntry Code="DebitFromAdvPayment" Name="预付生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="Amount"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Account AccountRuleType="AdvPayment">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="Idpartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="Idproject"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="pubuserdefnvc1"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="pubuserdefnvc2"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="pubuserdefnvc3"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="pubuserdefnvc4"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="pubuserdefnvc5"/>
              <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="pubuserdefnvc6"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="pubuserdefdecm1"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="pubuserdefdecm2"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="pubuserdefdecm3"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="pubuserdefdecm4"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="pubuserdefdecm5"/>
              <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="pubuserdefdecm6"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="priuserdefnvc1"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="priuserdefnvc2"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="priuserdefnvc3"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="priuserdefnvc4"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="priuserdefnvc5"/>
              <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="priuserdefnvc6"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="priuserdefdecm1"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="priuserdefdecm2"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="priuserdefdecm3"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="priuserdefdecm4"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="priuserdefdecm5"/>
              <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="priuserdefdecm6"/>
        </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="Idproject" SourceVoucher="Idproject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="DebitFromAdvPayCashDiscount" Name="折让生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="Allowances"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigAllowances"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigAllowances"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Account AccountRuleType="CashDiscount">
              <ExtendRuleProperty Name="Idvouchertype" SourceVoucherProperty="{IdvoucherType}"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="Idpartner"/>
            <Property Doc="IdcustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="Idcurrency"/>
            <Property Doc="Idproject" SourceVoucher="Idproject"/>
            <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
            <Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>            
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromSettleDetailAdvPayment" Name="结算明细生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="Amount"/>
            <Property Doc="OrigAmountCr" SourceVoucher="OrigAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapReceivePayment.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="ArapReceivePayment.Memo"/>
            <Property Doc="BillNo" SourceVoucher="DocumentCode"/>
            <Account AccountRuleType="Cash">
              <ExtendRuleProperty Name="IdbankAccount" SourceVoucherProperty="IdbankAccount"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="BankAccount.Idcurrency"/>
              <ExtendRuleProperty Name="Iddepartment" SourceVoucherProperty="ArapReceivePayment.Iddepartment"/>
            </Account>
            <Account AccountRuleType="Bank">
              <ExtendRuleProperty Name="IdbankAccount" SourceVoucherProperty="IdbankAccount"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="BankAccount.Idcurrency"/>
              <ExtendRuleProperty Name="Iddepartment" SourceVoucherProperty="ArapReceivePayment.Iddepartment"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapReceivePayment.Idpartner"/>
            <Property Doc="IdCustomerClass" SourceVoucher="ArapReceivePayment.Partner.IdpartnerClass"/>
            <Property Doc="Iddistrict" SourceVoucher="ArapReceivePayment.Partner.Iddistrict"/>
            <Property Doc="Iddepartment" SourceVoucher="ArapReceivePayment.Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="ArapReceivePayment.Idperson"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapReceivePayment.Idcurrency"/>
            <Property Doc="Idproject" SourceVoucher="ArapReceivePayment.Idproject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="ArapReceivePayment.Project.IdClass" Title="项目分类"/>
            <Property Doc="IdsettleStyle" SourceVoucher="IdsettleStyle"/>
            <Property Doc="IdbankAccount" SourceVoucher="IdbankAccount"/>
            <Property Doc="idbusiType" SourceVoucher="ArapReceivePayment.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapReceivePayment.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapReceivePayment.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapReceivePayment.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>
			<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapReceivePayment.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapReceivePayment.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <!--预付款-->
      </TransactionDoc>
      <DocUpdateBack Title="回写" Type="Ufida.T.UA.ARAP.FC.DocUpdateBackArapReceivePayment" />
    </Voucher>
    <Voucher Code="ARAP0301" Name="ArapStrikeBalanceDTO"  Title="预收冲应收">
      <SimpleQuery Title="简单查询设置" Type="Ufida.T.SM.FC.AbstractSimpleQuery">

        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,如果没有某个字段设置为NULL-->
        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,SELECT部分和WHERE部分都需要配置-->
        <Fields>
          <Property Name="ID" MapProperty="NEWID()" Title="Id" />
          <Property Name="UserId" MapProperty="{UserId}" Title="UserId" />
          <Property Name="IdvoucherType" MapProperty="{IdvoucherType}" Title="单据类型" />
          <Property Name="VoucherId" MapProperty="ArapStrikeBalanceDTO.ID" Title="单据Id" />
          <Property Name="IdbusiType" MapProperty="ArapStrikeBalanceDTO.idbusiType" Titile="业务类型"/>
          <Property Name="VoucherDate" MapProperty="ArapStrikeBalanceDTO.VoucherDate" Titile="单据日期"/>
          <Property Name="VoucherCode" MapProperty="ArapStrikeBalanceDTO.Code" Titile="单据编号"/>
          <Property Name="VoucherTs" MapProperty="ArapStrikeBalanceDTO.Ts" Title="单据时间戳"/>
          <Property Name="Idcurrency" MapProperty="ArapStrikeBalanceDTO.idcurrency" Titile="币种"/>
          <Property Name="Iddepartment" MapProperty="" Titile="部门"/>
          <Property Name="Idclerck" MapProperty="" Titile="员工"/>
          <!--<Property Name="Idsupplier" MapProperty="" Titile="供应商"/>-->
          <Property Name="Idcustomer" MapProperty="ArapStrikeBalanceDTO.idfirstPartner" Titile="往来单位"/>
          <Property Name="IdsecondCustomer" MapProperty="ArapStrikeBalanceDTO.idsecondPartner" Titile="转出往来单位"/>          
			<Property Name="OrigAmount" MapProperty="ArapStrikeBalanceDTO.OrigCurrentTotalAmount" Title="金额"/>
			<Property Name="Amount" MapProperty="ArapStrikeBalanceDTO.CurrentTotalAmount" Title="本币金额"/>
        </Fields>

        <PropertyFilters>
          <Filter Name="VoucherDate" MapProperty="ArapStrikeBalanceDTO.VoucherDate"/>
          <Filter Name="VoucherCode" MapProperty="ArapStrikeBalanceDTO.Code"/>
          <!--<Filter Name="SupplierCode" MapProperty=""/>-->
          <Filter Name="CustomerCode" MapProperty="ArapStrikeBalanceDTO.FirstPartner.Code"/>
          <!--<Filter Name="Departments" MapProperty=""/>
          <Filter Name="Persons" MapProperty=""/>
          <Filter Name="Projects" MapProperty=""/>-->
          <Filter Name="Currencys" MapProperty="ArapStrikeBalanceDTO.idcurrency"/>
			<Filter Name="OrigAmount" MapProperty="ArapStrikeBalanceDTO.OrigCurrentTotalAmount" Title="金额"/>
			<Filter Name="Amount" MapProperty="ArapStrikeBalanceDTO.CurrentTotalAmount" Title="本币金额"/>
			<Filter Name="maker" MapProperty="ArapStrikeBalanceDTO.makerid"/>
          <Filter Name="auditor" MapProperty="ArapStrikeBalanceDTO.auditorid"/>
        </PropertyFilters>

        <!--查询单据的过滤条件，多是不生成凭证过滤条件，也可以添加其他的自定义条件-->
        <BusinessFilters ModeName="PS">
          <Filter Name="业务类型标识">
            ArapStrikeBalanceDTO.idbusitype= '750084EA-499B-4BBD-8CBE-D2E4D52B17AD'
          </Filter>
          <Filter Name="未生效的不生成">
            ArapStrikeBalanceDTO.VoucherState={VoucherState.Effective}
          </Filter>
          <Filter Name="已生成凭证的业务单据不生成">
            (ArapStrikeBalanceDTO.DocId IS NULL or ArapStrikeBalanceDTO.DocId='')
          </Filter>
          <Filter Name="该模块启用期间之前的期初单据不生成">
            ArapStrikeBalanceDTO.VoucherDate>={ModelOpeningDate}
          </Filter>
			<Filter Name="所属营销机构 !=“总部”的单据不生成凭证">
				ArapStrikeBalanceDTO.IdmarketingOrgan='4AD74463-E871-4DC1-BEB0-6E6EAA0A6386'
			</Filter>
		</BusinessFilters>
		<IsContainZero Name="冲销金额总计等于0的不显示">
			  ArapStrikeBalanceDTO.OrigCurrentTotalAmount!=0
		</IsContainZero>
      </SimpleQuery>
      <FullQuery Name="完整查询设置" Type="Ufida.T.SM.FC.AbstractFullQuery">
        <Header>
          <Property Name="ArapStrikeBalanceDTO.ID"  Title="单据ID"/>
          <Property Name="ArapStrikeBalanceDTO.TS"  Title="TS"/>
          <Property Name="ArapStrikeBalanceDTO.idBusiType"  Title="业务类型ID"/>
          <Property Name="ArapStrikeBalanceDTO.BusiType.ID"  Title="业务类型ID"/>
          <Property Name="ArapStrikeBalanceDTO.BusiType.Name"  Title="业务类型"/>
          <Property Name="ArapStrikeBalanceDTO.VoucherDate"  Title="单据日期"/>
          <Property Name="ArapStrikeBalanceDTO.Code"  Title="单据编号"/>
          <Property Name="ArapStrikeBalanceDTO.Memo"  Title="备注"/>
          <Property Name="ArapStrikeBalanceDTO.CurrentTotalAmount"  Title="冲销金额总计（本币）"/>
          <Property Name="ArapStrikeBalanceDTO.OrigCurrentTotalAmount"  Title="冲销金额总计"/>
          <Property Name="ArapStrikeBalanceDTO.idCurrency"  Title="币种ID"/>
          <Property Name="ArapStrikeBalanceDTO.Currency.ID"  Title="币种"/>
          <Property Name="ArapStrikeBalanceDTO.Currency.Name"  Title="币种名称"/>
          <Property Name="ArapStrikeBalanceDTO.ExchangeRate"  Title="汇率"/>
          <Property Name="ArapStrikeBalanceDTO.idfirstPartner"  Title="转入往来单位ID"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.ID"  Title="转入往来单位"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.Code"  Title="转入往来单位编码"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.Name"  Title="转入往来单位名称"/>
		  <Property Name="ArapStrikeBalanceDTO.FirstPartner.Iddistrict"  Title="地区"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.IdpartnerClass"  Title="转入往来单位分类id"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.PartnerClass.ID"  Title="转入往来单位分类"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.PartnerClass.Name"  Title="转入往来单位名称"/>
          <Property Name="ArapStrikeBalanceDTO.idsecondPartner"  Title="转出往来单位ID"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.ID"  Title="转出往来单位"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.Code"  Title="转出往来单位"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.Name"  Title="转出往来单位"/>
		  <Property Name="ArapStrikeBalanceDTO.SecondPartner.Iddistrict"  Title="地区"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.IdpartnerClass"  Title="转出往来单位分类id"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.PartnerClass.ID"  Title="转出往来单位分类"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.PartnerClass.Name"  Title="转出往来单位名称"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc1"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc2"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc3"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc4"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc5"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc6"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm1"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm2"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm3"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm4"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm5"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm6"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc1"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc2"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc3"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc4"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc5"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc6"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm1"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm2"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm3"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm4"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm5"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm6"/>
        </Header>
        <Details>
          <Detail DetailRuleName="FirstDetails" DTO="ArapStrikeBalanceFirstDetailDTO" FK="idarapStrikeBalanceDTO" Title="明细1">
            <Property Name="ArapStrikeBalanceFirstDetailDTO.ID"  Title="ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.TS"  Title="TS"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.CurrentAmount"  Title="冲销金额本币"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.OrigCurrentAmount"  Title="冲销金额"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.IdvoucherType"  Title="单据类型ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idCurrency"  Title="币种ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.ExchangeRate"  Title="汇率"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idDepartment"  Title="部门ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idPerson"  Title="人员ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idProject"  Title="项目ID"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.ID"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.Name"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.Code"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.IdClass"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.Class.ID"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.Class.Name"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.Class.Code"  Title="项目分类"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idDetailProject"  Title="明细项目ID"/>
          </Detail>
          <Detail DetailRuleName="SecondDetails" DTO="ArapStrikeBalanceSecondDetailDTO" FK="idarapStrikeBalanceDTO" Title="明细2">
            <Property Name="ArapStrikeBalanceSecondDetailDTO.ID"  Title="ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.TS"  Title="TS"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.CurrentAmount"  Title="冲销金额本币"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.OrigCurrentAmount"  Title="冲销金额"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.IdvoucherType"  Title="单据类型ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.idCurrency"  Title="币种ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.ExchangeRate"  Title="汇率"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.idDepartment"  Title="部门ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.idPerson"  Title="人员ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.idProject"  Title="项目ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailId"  Title="存货ID"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.idDetailProject"  Title="明细项目ID"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.ID"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Name"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Code"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.IdClass"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Class.ID"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Class.Name"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Class.Code"  Title="项目分类"/>
            
          </Detail>
        </Details>
      </FullQuery>
      <TransactionDoc Type="Ufida.T.UA.ARAP.FC.ArapStrikeBalanceAdvReceiveAr">
        <SummaryFields>
          <Property Name="VoucherTypeId" Mapping="ID" Title="单据类型ID"/>
          <Property Name="BusiTypeId" Mapping="idBusiType" Title="业务类型ID"/>
          <Property Name="BusiType" Mapping="BusiType.Name" Title="业务类型"/>
          <Property Name="Partner" Mapping="FirstPartner.Name" Title="往来单位"/>
          <Property Name="Department" Mapping="" Title="部门"/>
          <Property Name="Person" Mapping="" Title="人员"/>
          <Property Name="Memo" Mapping="Memo" Title="备注"/>
        </SummaryFields>
        <TransactionEntry Code="DebitFromAdv" Name="预收生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="CurrentAmount"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapStrikeBalance.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapStrikeBalance.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="ArapStrikeBalance.Memo"/>
            <Account AccountRuleType="AdvReceive">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.IdSecondPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
			</Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapStrikeBalance.IdSecondPartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="ArapStrikeBalance.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapStrikeBalance.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapStrikeBalance.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapStrikeBalance.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="ArapStrikeBalance.SecondPartner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="ArapStrikeBalance.SecondPartner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapStrikeBalance.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapStrikeBalance.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromAr" Name="应收生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="CurrentAmount"/>
            <Property Doc="OrigAmountCr" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapStrikeBalance.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapStrikeBalance.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="ArapStrikeBalance.Memo"/>
            <Account AccountRuleType="Ar">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.IdfirstPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
              <ExtendRuleProperty Name="IdInventory" SourceVoucherProperty="DetailID"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
            <Account AccountRuleType="OtherAr">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.IdfirstPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapStrikeBalance.IdfirstPartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="DetailProject.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="ArapStrikeBalance.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapStrikeBalance.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapStrikeBalance.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapStrikeBalance.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="ArapStrikeBalance.FirstPartner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapStrikeBalance.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapStrikeBalance.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
      </TransactionDoc>
      <DocUpdateBack Title="回写" Type="Ufida.T.UA.ARAP.FC.DocUpdateBackArapStrikeBalance" />
    </Voucher>
    <Voucher Code="ARAP0302" Name="ArapStrikeBalanceDTO"  Title="预付冲应付">
      <SimpleQuery Title="简单查询设置" Type="Ufida.T.SM.FC.AbstractSimpleQuery">

        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,如果没有某个字段设置为NULL-->
        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,SELECT部分和WHERE部分都需要配置-->
        <Fields>
          <Property Name="ID" MapProperty="NEWID()" Title="Id" />
          <Property Name="UserId" MapProperty="{UserId}" Title="UserId" />
          <Property Name="IdvoucherType" MapProperty="{IdvoucherType}" Title="单据类型" />
          <Property Name="VoucherId" MapProperty="ArapStrikeBalanceDTO.ID" Title="单据Id" />
          <Property Name="IdbusiType" MapProperty="ArapStrikeBalanceDTO.idbusiType" Titile="业务类型"/>
          <Property Name="VoucherDate" MapProperty="ArapStrikeBalanceDTO.VoucherDate" Titile="单据日期"/>
          <Property Name="VoucherCode" MapProperty="ArapStrikeBalanceDTO.Code" Titile="单据编号"/>
          <Property Name="VoucherTs" MapProperty="ArapStrikeBalanceDTO.Ts" Title="单据时间戳"/>
          <Property Name="Idcurrency" MapProperty="ArapStrikeBalanceDTO.idcurrency" Titile="币种"/>
          <Property Name="Iddepartment" MapProperty="" Titile="部门"/>
          <Property Name="Idclerck" MapProperty="" Titile="员工"/>
          <Property Name="Idcustomer" MapProperty="ArapStrikeBalanceDTO.idfirstPartner" Titile="往来单位"/>
			<Property Name="OrigAmount" MapProperty="ArapStrikeBalanceDTO.OrigCurrentTotalAmount" Title="金额"/>
			<Property Name="Amount" MapProperty="ArapStrikeBalanceDTO.CurrentTotalAmount" Title="本币金额"/>
          <!--<Property Name="Idcustomer" MapProperty="" Titile="客户"/>-->
        </Fields>

        <PropertyFilters>
          <Filter Name="VoucherDate" MapProperty="ArapStrikeBalanceDTO.VoucherDate"/>
          <Filter Name="VoucherCode" MapProperty="ArapStrikeBalanceDTO.Code"/>
          <Filter Name="CustomerCode" MapProperty="ArapStrikeBalanceDTO.FirstPartner.Code"/>
          <!--<Filter Name="SupplierCode" MapProperty=""/>
          <Filter Name="Departments" MapProperty=""/>
          <Filter Name="Persons" MapProperty=""/>
          <Filter Name="Projects" MapProperty=""/>-->
          <Filter Name="Currencys" MapProperty="ArapStrikeBalanceDTO.idcurrency"/>
			<Filter Name="OrigAmount" MapProperty="ArapStrikeBalanceDTO.OrigCurrentTotalAmount" Title="金额"/>
			<Filter Name="Amount" MapProperty="ArapStrikeBalanceDTO.CurrentTotalAmount" Title="本币金额"/>
			<Filter Name="maker" MapProperty="ArapStrikeBalanceDTO.makerid"/>
          <Filter Name="auditor" MapProperty="ArapStrikeBalanceDTO.auditorid"/>
        </PropertyFilters>

        <!--查询单据的过滤条件，多是不生成凭证过滤条件，也可以添加其他的自定义条件-->
        <BusinessFilters ModeName="PS">
          <Filter Name="业务类型标识">
            ArapStrikeBalanceDTO.idbusitype= 'C7FE03E9-A335-448B-B58B-76C284B01197'
          </Filter>
          <Filter Name="未生效的不生成">
            ArapStrikeBalanceDTO.VoucherState={VoucherState.Effective}
          </Filter>
          <Filter Name="已生成凭证的业务单据不生成">
            (ArapStrikeBalanceDTO.DocId IS NULL or ArapStrikeBalanceDTO.DocId='')
          </Filter>
          <Filter Name="该模块启用期间之前的期初单据不生成">
            ArapStrikeBalanceDTO.VoucherDate>={ModelOpeningDate}
          </Filter>
			<Filter Name="所属营销机构 !=“总部”的单据不生成凭证">
				ArapStrikeBalanceDTO.IdmarketingOrgan='4AD74463-E871-4DC1-BEB0-6E6EAA0A6386'
			</Filter>
        </BusinessFilters>
		<IsContainZero Name="冲销金额总计等于0的不显示">
			  ArapStrikeBalanceDTO.OrigCurrentTotalAmount!=0
		</IsContainZero>
      </SimpleQuery>
      <FullQuery Name="完整查询设置" Type="Ufida.T.SM.FC.AbstractFullQuery">
        <Header>
          <Property Name="ArapStrikeBalanceDTO.ID"  Title="单据ID"/>
          <Property Name="ArapStrikeBalanceDTO.TS"  Title="TS"/>
          <Property Name="ArapStrikeBalanceDTO.idBusiType"  Title="业务类型ID"/>
          <Property Name="ArapStrikeBalanceDTO.BusiType.ID"  Title="业务类型ID"/>
          <Property Name="ArapStrikeBalanceDTO.BusiType.Name"  Title="业务类型"/>
          <Property Name="ArapStrikeBalanceDTO.VoucherDate"  Title="单据日期"/>
          <Property Name="ArapStrikeBalanceDTO.Code"  Title="单据编号"/>
          <Property Name="ArapStrikeBalanceDTO.Memo"  Title="备注"/>
          <Property Name="ArapStrikeBalanceDTO.CurrentTotalAmount"  Title="冲销金额总计（本币）"/>
          <Property Name="ArapStrikeBalanceDTO.OrigCurrentTotalAmount"  Title="冲销金额总计"/>
          <Property Name="ArapStrikeBalanceDTO.idCurrency"  Title="币种ID"/>
          <Property Name="ArapStrikeBalanceDTO.Currency.ID"  Title="币种"/>
          <Property Name="ArapStrikeBalanceDTO.Currency.Name"  Title="币种名称"/>
          <Property Name="ArapStrikeBalanceDTO.ExchangeRate"  Title="汇率"/>
          <Property Name="ArapStrikeBalanceDTO.idfirstPartner"  Title="转入往来单位ID"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.ID"  Title="转入往来单位"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.Code"  Title="转入往来单位编码"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.Name"  Title="转入往来单位名称"/>
		  <Property Name="ArapStrikeBalanceDTO.FirstPartner.Iddistrict"  Title="地区"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.IdpartnerClass"  Title="转入往来单位分类id"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.PartnerClass.ID"  Title="转入往来单位分类"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.PartnerClass.Name"  Title="转入往来单位名称"/>
          <Property Name="ArapStrikeBalanceDTO.idsecondPartner"  Title="转出往来单位ID"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.ID"  Title="转出往来单位"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.Code"  Title="转出往来单位"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.Name"  Title="转出往来单位"/>
		  <Property Name="ArapStrikeBalanceDTO.SecondPartner.Iddistrict"  Title="地区"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.IdpartnerClass"  Title="转出往来单位分类id"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.PartnerClass.ID"  Title="转出往来单位分类"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.PartnerClass.Name"  Title="转出往来单位名称"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc1"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc2"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc3"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc4"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc5"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc6"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm1"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm2"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm3"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm4"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm5"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm6"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc1"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc2"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc3"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc4"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc5"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc6"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm1"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm2"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm3"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm4"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm5"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm6"/>
        </Header>
        <Details>
          <Detail DetailRuleName="FirstDetails" DTO="ArapStrikeBalanceFirstDetailDTO" FK="idarapStrikeBalanceDTO" Title="明细1">
            <Property Name="ArapStrikeBalanceFirstDetailDTO.ID"  Title="ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.TS"  Title="TS"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.CurrentAmount"  Title="冲销金额本币"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.OrigCurrentAmount"  Title="冲销金额"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.IdvoucherType"  Title="单据类型ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idCurrency"  Title="币种ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.ExchangeRate"  Title="汇率"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idDepartment"  Title="部门ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idPerson"  Title="人员ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idProject"  Title="项目ID"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.ID"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.Name"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.Code"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.IdClass"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.Class.ID"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.Class.Name"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.Project.Class.Code"  Title="项目分类"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idDetailProject"  Title="明细项目ID"/>
          </Detail>
          <Detail DetailRuleName="SecondDetails" DTO="ArapStrikeBalanceSecondDetailDTO" FK="idarapStrikeBalanceDTO" Title="明细2">
            <Property Name="ArapStrikeBalanceSecondDetailDTO.ID"  Title="ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.TS"  Title="TS"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.CurrentAmount"  Title="冲销金额本币"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.OrigCurrentAmount"  Title="冲销金额"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.IdvoucherType"  Title="单据类型ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.idCurrency"  Title="币种ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.ExchangeRate"  Title="汇率"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.idDepartment"  Title="部门ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.idPerson"  Title="人员ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.idProject"  Title="项目ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailId"  Title="存货ID"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.idDetailProject"  Title="明细项目ID"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.ID"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Name"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Code"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.IdClass"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Class.ID"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Class.Name"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Class.Code"  Title="项目分类"/>
            
          </Detail>
        </Details>
      </FullQuery>
      <TransactionDoc Type="Ufida.T.UA.ARAP.FC.ArapStrikeBalanceAdvPaymentAp">
        <SummaryFields>
          <Property Name="VoucherTypeId" Mapping="ID" Title="单据类型ID"/>
          <Property Name="BusiTypeId" Mapping="idBusiType" Title="业务类型ID"/>
          <Property Name="BusiType" Mapping="BusiType.Name" Title="业务类型"/>
          <Property Name="Partner" Mapping="FirstPartner.Name" Title="往来单位"/>
          <Property Name="Department" Mapping="" Title="部门"/>
          <Property Name="Person" Mapping="" Title="人员"/>
          <Property Name="Memo" Mapping="Memo" Title="备注"/>
        </SummaryFields>
        <TransactionEntry Code="DebitFromAp" Name="应付生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="CurrentAmount"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapStrikeBalance.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapStrikeBalance.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="ArapStrikeBalance.Memo"/>
            <Account AccountRuleType="Ap">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idfirstPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
              <ExtendRuleProperty Name="IdInventory" SourceVoucherProperty="DetailID" />
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
            <Account AccountRuleType="OtherAp">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idfirstPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="IdCustomer" SourceVoucher="ArapStrikeBalance.idfirstPartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="DetailProject.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="ArapStrikeBalance.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapStrikeBalance.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapStrikeBalance.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapStrikeBalance.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="ArapStrikeBalance.FirstPartner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapStrikeBalance.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapStrikeBalance.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromAdv" Name="预付生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="CurrentAmount"/>
            <Property Doc="OrigAmountCr" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapStrikeBalance.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapStrikeBalance.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="ArapStrikeBalance.Memo"/>
            <Account AccountRuleType="AdvPayment">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.IdfirstPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapStrikeBalance.IdfirstPartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="ArapStrikeBalance.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapStrikeBalance.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapStrikeBalance.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapStrikeBalance.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="ArapStrikeBalance.Partner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="ArapStrikeBalance.Partner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapStrikeBalance.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapStrikeBalance.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
      </TransactionDoc>
      <DocUpdateBack Title="回写" Type="Ufida.T.UA.ARAP.FC.DocUpdateBackArapStrikeBalance" />
    </Voucher>
    <Voucher Code="ARAP0303" Name="ArapStrikeBalanceDTO"  Title="应收冲应收">
      <SimpleQuery Title="简单查询设置" Type="Ufida.T.SM.FC.AbstractSimpleQuery">

        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,如果没有某个字段设置为NULL-->
        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,SELECT部分和WHERE部分都需要配置-->
        <Fields>
          <Property Name="ID" MapProperty="NEWID()" Title="Id" />
          <Property Name="UserId" MapProperty="{UserId}" Title="UserId" />
          <Property Name="IdvoucherType" MapProperty="{IdvoucherType}" Title="单据类型" />
          <Property Name="VoucherId" MapProperty="ArapStrikeBalanceDTO.ID" Title="单据Id" />
          <Property Name="IdbusiType" MapProperty="ArapStrikeBalanceDTO.idbusiType" Titile="业务类型"/>
          <Property Name="VoucherDate" MapProperty="ArapStrikeBalanceDTO.VoucherDate" Titile="单据日期"/>
          <Property Name="VoucherCode" MapProperty="ArapStrikeBalanceDTO.Code" Titile="单据编号"/>
          <Property Name="VoucherTs" MapProperty="ArapStrikeBalanceDTO.Ts" Title="单据时间戳"/>
          <Property Name="Idcurrency" MapProperty="ArapStrikeBalanceDTO.idcurrency" Titile="币种"/>
          <Property Name="Iddepartment" MapProperty="" Titile="部门"/>
          <Property Name="Idclerck" MapProperty="" Titile="员工"/>
          <!--<Property Name="Idsupplier" MapProperty="" Titile="供应商"/>-->
          <Property Name="Idcustomer" MapProperty="ArapStrikeBalanceDTO.idsecondPartner" Titile="转入往来单位"/>
          <Property Name="IdsecondCustomer" MapProperty="ArapStrikeBalanceDTO.idfirstPartner" Titile="转出往来单位"/>
			<Property Name="OrigAmount" MapProperty="ArapStrikeBalanceDTO.OrigCurrentTotalAmount" Title="金额"/>
			<Property Name="Amount" MapProperty="ArapStrikeBalanceDTO.CurrentTotalAmount" Title="本币金额"/>
          <!--<Property Name="IdsecondSupplier" MapProperty="" Titile="转出供应商"/>-->
        </Fields>

        <PropertyFilters>
          <Filter Name="VoucherDate" MapProperty="ArapStrikeBalanceDTO.VoucherDate"/>
          <Filter Name="VoucherCode" MapProperty="ArapStrikeBalanceDTO.Code"/>
          <!--<Filter Name="SupplierCode" MapProperty=""/>
          <Filter Name="CustomerCode" MapProperty=""/>
          <Filter Name="Departments" MapProperty=""/>
          <Filter Name="Persons" MapProperty=""/>
          <Filter Name="Projects" MapProperty=""/>-->
          <Filter Name="Currencys" MapProperty="ArapStrikeBalanceDTO.idcurrency"/>
			<Filter Name="OrigAmount" MapProperty="ArapStrikeBalanceDTO.OrigCurrentTotalAmount" Title="金额"/>
			<Filter Name="Amount" MapProperty="ArapStrikeBalanceDTO.CurrentTotalAmount" Title="本币金额"/>
			<Filter Name="maker" MapProperty="ArapStrikeBalanceDTO.makerid"/>
          <Filter Name="auditor" MapProperty="ArapStrikeBalanceDTO.auditorid"/>
        </PropertyFilters>
        <!--查询单据的过滤条件，多是不生成凭证过滤条件，也可以添加其他的自定义条件-->
        <BusinessFilters ModeName="PS">
          <Filter Name="业务类型标识">
            ArapStrikeBalanceDTO.idbusitype= '2CF3FBDE-DD73-41B8-A0F9-58E144200476'
          </Filter>
          <Filter Name="未生效的不生成">
            ArapStrikeBalanceDTO.VoucherState={VoucherState.Effective}
          </Filter>
          <Filter Name="已生成凭证的业务单据不生成">
            (ArapStrikeBalanceDTO.DocId IS NULL or ArapStrikeBalanceDTO.DocId='')
          </Filter>
          <Filter Name="该模块启用期间之前的期初单据不生成">
            ArapStrikeBalanceDTO.VoucherDate>={ModelOpeningDate}
          </Filter>
		  <Filter Name="冲销金额总计等于0的不显示">
			  ArapStrikeBalanceDTO.OrigCurrentTotalAmount!=0
		  </Filter>
			<Filter Name="所属营销机构 !=“总部”的单据不生成凭证">
				ArapStrikeBalanceDTO.IdmarketingOrgan='4AD74463-E871-4DC1-BEB0-6E6EAA0A6386'
			</Filter>
        </BusinessFilters>
		<!--<IsContainZero Name="冲销金额总计等于0的不显示">
			ArapStrikeBalanceDTO.OrigCurrentTotalAmount!=0
		</IsContainZero>--> 
      </SimpleQuery>
      <FullQuery Name="完整查询设置" Type="Ufida.T.SM.FC.AbstractFullQuery">
        <Header>
          <Property Name="ArapStrikeBalanceDTO.ID"  Title="单据ID"/>
          <Property Name="ArapStrikeBalanceDTO.TS"  Title="TS"/>
          <Property Name="ArapStrikeBalanceDTO.idBusiType"  Title="业务类型ID"/>
          <Property Name="ArapStrikeBalanceDTO.BusiType.ID"  Title="业务类型ID"/>
          <Property Name="ArapStrikeBalanceDTO.BusiType.Name"  Title="业务类型"/>
          <Property Name="ArapStrikeBalanceDTO.VoucherDate"  Title="单据日期"/>
          <Property Name="ArapStrikeBalanceDTO.Code"  Title="单据编号"/>
          <Property Name="ArapStrikeBalanceDTO.Memo"  Title="备注"/>
          <Property Name="ArapStrikeBalanceDTO.CurrentTotalAmount"  Title="冲销金额总计（本币）"/>
          <Property Name="ArapStrikeBalanceDTO.OrigCurrentTotalAmount"  Title="冲销金额总计"/>
          <Property Name="ArapStrikeBalanceDTO.idCurrency"  Title="币种ID"/>
          <Property Name="ArapStrikeBalanceDTO.Currency.ID"  Title="币种"/>
          <Property Name="ArapStrikeBalanceDTO.Currency.Name"  Title="币种名称"/>
          <Property Name="ArapStrikeBalanceDTO.ExchangeRate"  Title="汇率"/>
          <Property Name="ArapStrikeBalanceDTO.idfirstPartner"  Title="转入往来单位ID"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.ID"  Title="转入往来单位"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.Code"  Title="转入往来单位"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.Name"  Title="转入往来单位名称"/>
		  <Property Name="ArapStrikeBalanceDTO.FirstPartner.Iddistrict"  Title="地区"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.IdpartnerClass"  Title="转入往来单位分类id"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.PartnerClass.ID"  Title="转入往来单位分类"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.PartnerClass.Name"  Title="转入往来单位名称"/>
          <Property Name="ArapStrikeBalanceDTO.idsecondPartner"  Title="转出往来单位ID"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.ID"  Title="转出往来单位"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.Code"  Title="转出往来单位编码"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.Name"  Title="转出往来单位名称"/>
		  <Property Name="ArapStrikeBalanceDTO.SecondPartner.Iddistrict"  Title="地区"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.IdpartnerClass"  Title="转出往来单位分类id"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.PartnerClass.ID"  Title="转出往来单位分类"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.PartnerClass.Name"  Title="转出往来单位名称"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc1"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc2"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc3"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc4"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc5"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc6"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm1"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm2"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm3"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm4"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm5"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm6"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc1"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc2"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc3"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc4"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc5"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc6"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm1"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm2"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm3"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm4"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm5"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm6"/>
        </Header>
        <Details>
          <Detail DetailRuleName="FirstDetails" DTO="ArapStrikeBalanceFirstDetailDTO" FK="idarapStrikeBalanceDTO" Title="明细1">
            <Property Name="ArapStrikeBalanceFirstDetailDTO.ID"  Title="ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.TS"  Title="TS"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.CurrentAmount"  Title="冲销金额本币"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.OrigCurrentAmount"  Title="冲销金额"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.IdvoucherType"  Title="单据类型ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idCurrency"  Title="币种ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.ExchangeRate"  Title="汇率"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idDepartment"  Title="部门ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idPerson"  Title="人员ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idProject"  Title="项目ID"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.idDetailProject"  Title="明细项目ID"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.ID"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Name"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Code"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.IdClass"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Class.ID"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Class.Name"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Class.Code"  Title="项目分类"/>
            
          </Detail>
        </Details>
      </FullQuery>
      <TransactionDoc Type="Ufida.T.UA.ARAP.FC.ArapStrikeBalanceArAr">
        <SummaryFields>
          <Property Name="VoucherTypeId" Mapping="ID" Title="单据类型ID"/>
          <Property Name="BusiTypeId" Mapping="idBusiType" Title="业务类型ID"/>
          <Property Name="BusiType" Mapping="BusiType.Name" Title="业务类型"/>
          <Property Name="Partner" Mapping="FirstPartner.Name" Title="往来单位"/>
          <Property Name="Department" Mapping="" Title="部门"/>
          <Property Name="Person" Mapping="" Title="人员"/>
          <Property Name="Memo" Mapping="Memo" Title="备注"/>
        </SummaryFields>
        <TransactionEntry Code="DebitFromArIn" Name="应收生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="CurrentAmount"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapStrikeBalance.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapStrikeBalance.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="ArapStrikeBalance.Memo"/>
            <Account AccountRuleType="Ar">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idsecondPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
			</Account>
            <Account AccountRuleType="OtherAr">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idsecondPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapStrikeBalance.idsecondPartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="DetailProject.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="ArapStrikeBalance.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapStrikeBalance.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapStrikeBalance.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapStrikeBalance.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="ArapStrikeBalance.SecondPartner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="ArapStrikeBalance.SecondPartner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapStrikeBalance.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapStrikeBalance.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="DebitFromArOut" Name="应收生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="Idcurrency" SourceVoucher="ArapStrikeBalance.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapStrikeBalance.ExchangeRate"/>
            <Property Doc="Memoto" SourceVoucher="ArapStrikeBalance.Memo"/>
            <Account AccountRuleType="Ar">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idfirstPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
            <Account AccountRuleType="OtherAr">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idfirstPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapStrikeBalance.idfirstPartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="DetailProject.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="ArapStrikeBalance.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapStrikeBalance.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapStrikeBalance.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapStrikeBalance.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="ArapStrikeBalance.FirstPartner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapStrikeBalance.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapStrikeBalance.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
      </TransactionDoc>
      <DocUpdateBack Title="回写" Type="Ufida.T.UA.ARAP.FC.DocUpdateBackArapStrikeBalance" />
    </Voucher>
    <Voucher Code="ARAP0304" Name="ArapStrikeBalanceDTO"  Title="应付冲应付">
      <SimpleQuery Title="简单查询设置" Type="Ufida.T.SM.FC.AbstractSimpleQuery">

        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,如果没有某个字段设置为NULL-->
        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,SELECT部分和WHERE部分都需要配置-->
        <Fields>
          <Property Name="ID" MapProperty="NEWID()" Title="Id" />
          <Property Name="UserId" MapProperty="{UserId}" Title="UserId" />
          <Property Name="IdvoucherType" MapProperty="{IdvoucherType}" Title="单据类型" />
          <Property Name="VoucherId" MapProperty="ArapStrikeBalanceDTO.ID" Title="单据Id" />
          <Property Name="IdbusiType" MapProperty="ArapStrikeBalanceDTO.idbusiType" Titile="业务类型"/>
          <Property Name="VoucherDate" MapProperty="ArapStrikeBalanceDTO.VoucherDate" Titile="单据日期"/>
          <Property Name="VoucherCode" MapProperty="ArapStrikeBalanceDTO.Code" Titile="单据编号"/>
          <Property Name="VoucherTs" MapProperty="ArapStrikeBalanceDTO.Ts" Title="单据时间戳"/>
          <Property Name="Idcurrency" MapProperty="ArapStrikeBalanceDTO.idcurrency" Titile="币种"/>
          <Property Name="Iddepartment" MapProperty="" Titile="部门"/>
          <Property Name="Idclerck" MapProperty="" Titile="员工"/>
          <Property Name="IdsecondCustomer" MapProperty="ArapStrikeBalanceDTO.idfirstPartner" Titile="转出往来单位"/>
			<!--<Property Name="Idcustomer" MapProperty="" Titile="客户"/>
          <Property Name="IdsecondCustomer" MapProperty="" Titile="转出客户"/>-->
          <Property Name="Idcustomer" MapProperty="ArapStrikeBalanceDTO.idsecondPartner" Titile="转入往来单位"/>
			<Property Name="OrigAmount" MapProperty="ArapStrikeBalanceDTO.OrigCurrentTotalAmount" Title="金额"/>
			<Property Name="Amount" MapProperty="ArapStrikeBalanceDTO.CurrentTotalAmount" Title="本币金额"/>
        </Fields>

        <PropertyFilters>
          <Filter Name="VoucherDate" MapProperty="ArapStrikeBalanceDTO.VoucherDate"/>
          <Filter Name="VoucherCode" MapProperty="ArapStrikeBalanceDTO.Code"/>
          <Filter Name="CustomerCode" MapProperty="ArapStrikeBalanceDTO.FirstPartner.Code"/>
          <!--<Filter Name="SupplierCode" MapProperty=""/>
          <Filter Name="Departments" MapProperty=""/>
          <Filter Name="Persons" MapProperty=""/>
          <Filter Name="Projects" MapProperty=""/>-->
          <Filter Name="Currencys" MapProperty="ArapStrikeBalanceDTO.idcurrency"/>
			<Filter Name="OrigAmount" MapProperty="ArapStrikeBalanceDTO.OrigCurrentTotalAmount" Title="金额"/>
			<Filter Name="Amount" MapProperty="ArapStrikeBalanceDTO.CurrentTotalAmount" Title="本币金额"/>
			<Filter Name="maker" MapProperty="ArapStrikeBalanceDTO.makerid"/>
          <Filter Name="auditor" MapProperty="ArapStrikeBalanceDTO.auditorid"/>
        </PropertyFilters>
        <!--查询单据的过滤条件，多是不生成凭证过滤条件，也可以添加其他的自定义条件-->
        <BusinessFilters ModeName="PS">
          <Filter Name="业务类型标识">
            ArapStrikeBalanceDTO.idbusitype= 'AC5C5D9E-FA21-4FFE-8DAB-4718E40E1E9B'
          </Filter>
          <Filter Name="未生效的不生成">
            ArapStrikeBalanceDTO.VoucherState={VoucherState.Effective}
          </Filter>
          <Filter Name="已生成凭证的业务单据不生成">
            (ArapStrikeBalanceDTO.DocId IS NULL or ArapStrikeBalanceDTO.DocId='')
          </Filter>
          <Filter Name="该模块启用期间之前的期初单据不生成">
            ArapStrikeBalanceDTO.VoucherDate>={ModelOpeningDate}
          </Filter>
		  <Filter Name="冲销金额总计等于0的不显示">
			  ArapStrikeBalanceDTO.OrigCurrentTotalAmount!=0
		  </Filter>
			<Filter Name="所属营销机构 !=“总部”的单据不生成凭证">
				ArapStrikeBalanceDTO.IdmarketingOrgan='4AD74463-E871-4DC1-BEB0-6E6EAA0A6386'
			</Filter>
        </BusinessFilters>
		<!--<IsContainZero Name="冲销金额总计等于0的不显示">
			ArapStrikeBalanceDTO.OrigCurrentTotalAmount!=0
		</IsContainZero>-->

	  </SimpleQuery>
      <FullQuery Name="完整查询设置" Type="Ufida.T.SM.FC.AbstractFullQuery">
        <Header>
          <Property Name="ArapStrikeBalanceDTO.ID"  Title="单据ID"/>
          <Property Name="ArapStrikeBalanceDTO.TS"  Title="TS"/>
          <Property Name="ArapStrikeBalanceDTO.idBusiType"  Title="业务类型ID"/>
          <Property Name="ArapStrikeBalanceDTO.BusiType.ID"  Title="业务类型ID"/>
          <Property Name="ArapStrikeBalanceDTO.BusiType.Name"  Title="业务类型"/>
          <Property Name="ArapStrikeBalanceDTO.VoucherDate"  Title="单据日期"/>
          <Property Name="ArapStrikeBalanceDTO.Code"  Title="单据编号"/>
          <Property Name="ArapStrikeBalanceDTO.Memo"  Title="备注"/>
          <Property Name="ArapStrikeBalanceDTO.CurrentTotalAmount"  Title="冲销金额总计（本币）"/>
          <Property Name="ArapStrikeBalanceDTO.OrigCurrentTotalAmount"  Title="冲销金额总计"/>
          <Property Name="ArapStrikeBalanceDTO.idCurrency"  Title="币种ID"/>
          <Property Name="ArapStrikeBalanceDTO.Currency.ID"  Title="币种"/>
          <Property Name="ArapStrikeBalanceDTO.Currency.Name"  Title="币种名称"/>
          <Property Name="ArapStrikeBalanceDTO.ExchangeRate"  Title="汇率"/>
          <Property Name="ArapStrikeBalanceDTO.idfirstPartner"  Title="转入往来单位ID"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.ID"  Title="转入往来单位"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.Code"  Title="转入往来单位编码"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.Name"  Title="转入往来单位名称"/>
		  <Property Name="ArapStrikeBalanceDTO.FirstPartner.Iddistrict"  Title="地区"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.IdpartnerClass"  Title="转入往来单位分类id"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.PartnerClass.ID"  Title="转入往来单位分类"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.PartnerClass.Name"  Title="转入往来单位名称"/>
          <Property Name="ArapStrikeBalanceDTO.idsecondPartner"  Title="转出往来单位ID"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.ID"  Title="转出往来单位"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.Code"  Title="转出往来单位编码"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.Name"  Title="转出往来单位名称"/>
		  <Property Name="ArapStrikeBalanceDTO.SecondPartner.Iddistrict"  Title="地区"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.IdpartnerClass"  Title="转出往来单位分类id"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.PartnerClass.ID"  Title="转出往来单位分类"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.PartnerClass.Name"  Title="转出往来单位名称"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc1"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc2"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc3"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc4"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc5"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc6"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm1"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm2"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm3"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm4"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm5"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm6"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc1"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc2"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc3"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc4"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc5"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc6"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm1"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm2"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm3"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm4"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm5"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm6"/>
        </Header>
        <Details>
          <Detail DetailRuleName="FirstDetails" DTO="ArapStrikeBalanceFirstDetailDTO" FK="idarapStrikeBalanceDTO" Title="明细1">
            <Property Name="ArapStrikeBalanceFirstDetailDTO.ID"  Title="ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.TS"  Title="TS"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.CurrentAmount"  Title="冲销金额本币"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.OrigCurrentAmount"  Title="冲销金额"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.IdvoucherType"  Title="单据类型ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idCurrency"  Title="币种ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.ExchangeRate"  Title="汇率"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idDepartment"  Title="部门ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idPerson"  Title="人员ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idProject"  Title="项目ID"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.idDetailProject"  Title="明细项目ID"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.ID"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Name"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Code"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.IdClass"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Class.ID"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Class.Name"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Class.Code"  Title="项目分类"/>
            
          </Detail>
        </Details>
      </FullQuery>
      <TransactionDoc Type="Ufida.T.UA.ARAP.FC.ArapStrikeBalanceApAp">
        <SummaryFields>
          <Property Name="VoucherTypeId" Mapping="ID" Title="单据类型ID"/>
          <Property Name="BusiTypeId" Mapping="idBusiType" Title="业务类型ID"/>
          <Property Name="BusiType" Mapping="BusiType.Name" Title="业务类型"/>
          <Property Name="Partner" Mapping="FirstPartner.Name" Title="往来单位"/>
          <Property Name="Department" Mapping="" Title="部门"/>
          <Property Name="Person" Mapping="" Title="人员"/>
          <Property Name="Memo" Mapping="Memo" Title="备注"/>
        </SummaryFields>
        <TransactionEntry Code="CreditFromApOut" Name="应付生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="Idcurrency" SourceVoucher="ArapStrikeBalance.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapStrikeBalance.ExchangeRate"/>
            <Account AccountRuleType="Ap">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idfirstPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
            <Account AccountRuleType="OtherAp">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idfirstPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapStrikeBalance.idfirstPartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="DetailProject.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="ArapStrikeBalance.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapStrikeBalance.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapStrikeBalance.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapStrikeBalance.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="ArapStrikeBalance.FirstPartner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapStrikeBalance.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapStrikeBalance.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromApIn" Name="应付生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="CurrentAmount"/>
            <Property Doc="OrigAmountCr" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapStrikeBalance.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapStrikeBalance.ExchangeRate"/>
            <Account AccountRuleType="Ap">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idsecondPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
            <Account AccountRuleType="OtherAp">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idsecondPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapStrikeBalance.idsecondPartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="DetailProject.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="ArapStrikeBalance.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapStrikeBalance.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapStrikeBalance.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapStrikeBalance.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="ArapStrikeBalance.SecondPartner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="ArapStrikeBalance.SecondPartner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapStrikeBalance.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapStrikeBalance.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
      </TransactionDoc>
      <DocUpdateBack Title="回写" Type="Ufida.T.UA.ARAP.FC.DocUpdateBackArapStrikeBalance" />
    </Voucher>
    <Voucher Code="ARAP0305" Name="ArapStrikeBalanceDTO"  Title="应收冲应付">
      <SimpleQuery Title="简单查询设置" Type="Ufida.T.SM.FC.AbstractSimpleQuery">

        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,如果没有某个字段设置为NULL-->
        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,SELECT部分和WHERE部分都需要配置-->
        <Fields>
          <Property Name="ID" MapProperty="NEWID()" Title="Id" />
          <Property Name="UserId" MapProperty="{UserId}" Title="UserId" />
          <Property Name="IdvoucherType" MapProperty="{IdvoucherType}" Title="单据类型" />
          <Property Name="VoucherId" MapProperty="ArapStrikeBalanceDTO.ID" Title="单据Id" />
          <Property Name="IdbusiType" MapProperty="ArapStrikeBalanceDTO.idbusiType" Titile="业务类型"/>
          <Property Name="VoucherDate" MapProperty="ArapStrikeBalanceDTO.VoucherDate" Titile="单据日期"/>
          <Property Name="VoucherCode" MapProperty="ArapStrikeBalanceDTO.Code" Titile="单据编号"/>
          <Property Name="VoucherTs" MapProperty="ArapStrikeBalanceDTO.Ts" Title="单据时间戳"/>
          <Property Name="Idcurrency" MapProperty="ArapStrikeBalanceDTO.idcurrency" Titile="币种"/>
          <Property Name="Iddepartment" MapProperty="" Titile="部门"/>
          <Property Name="Idclerck" MapProperty="" Titile="员工"/>
          <Property Name="IdsecondCustomer" MapProperty="ArapStrikeBalanceDTO.idsecondPartner" Titile="往来单位"/>
          <Property Name="Idcustomer" MapProperty="ArapStrikeBalanceDTO.idfirstPartner" Titile="往来单位"/>
			<Property Name="OrigAmount" MapProperty="ArapStrikeBalanceDTO.OrigCurrentTotalAmount" Title="金额"/>
			<Property Name="Amount" MapProperty="ArapStrikeBalanceDTO.CurrentTotalAmount" Title="本币金额"/>
          <!--<Property Name="IdsecondCustomer" MapProperty="" Titile="转出客户"/>
          <Property Name="IdsecondSupplier" MapProperty="" Titile="转出供应商"/>-->
        </Fields>

        <PropertyFilters>
          <Filter Name="VoucherDate" MapProperty="ArapStrikeBalanceDTO.VoucherDate"/>
          <Filter Name="VoucherCode" MapProperty="ArapStrikeBalanceDTO.Code"/>
          <Filter Name="SupplierCode" MapProperty="ArapStrikeBalanceDTO.SecondPartner.Code"/>
          <Filter Name="CustomerCode" MapProperty="ArapStrikeBalanceDTO.FirstPartner.Code"/>
          <!--<Filter Name="Departments" MapProperty=""/>
          <Filter Name="Persons" MapProperty=""/>
          <Filter Name="Projects" MapProperty=""/>-->
          <Filter Name="Currencys" MapProperty="ArapStrikeBalanceDTO.idcurrency"/>
			<Filter Name="OrigAmount" MapProperty="ArapStrikeBalanceDTO.OrigCurrentTotalAmount" Title="金额"/>
			<Filter Name="Amount" MapProperty="ArapStrikeBalanceDTO.CurrentTotalAmount" Title="本币金额"/>
			<Filter Name="maker" MapProperty="ArapStrikeBalanceDTO.makerid"/>
          <Filter Name="auditor" MapProperty="ArapStrikeBalanceDTO.auditorid"/>
        </PropertyFilters>
        <!--查询单据的过滤条件，多是不生成凭证过滤条件，也可以添加其他的自定义条件-->
        <BusinessFilters ModeName="PS">
          <Filter Name="业务类型标识">
            ArapStrikeBalanceDTO.idbusitype= '656A055C-74B0-4338-A89A-581397673410'
          </Filter>
          <Filter Name="未生效的不生成">
            ArapStrikeBalanceDTO.VoucherState={VoucherState.Effective}
          </Filter>
          <Filter Name="已生成凭证的业务单据不生成">
            (ArapStrikeBalanceDTO.DocId IS NULL or ArapStrikeBalanceDTO.DocId='')
          </Filter>
          <Filter Name="该模块启用期间之前的期初单据不生成">
            ArapStrikeBalanceDTO.VoucherDate>={ModelOpeningDate}
          </Filter>
			<Filter Name="所属营销机构 !=“总部”的单据不生成凭证">
				ArapStrikeBalanceDTO.IdmarketingOrgan='4AD74463-E871-4DC1-BEB0-6E6EAA0A6386'
			</Filter>
        </BusinessFilters>
      </SimpleQuery>
      <FullQuery Name="完整查询设置" Type="Ufida.T.SM.FC.AbstractFullQuery">
        <Header>
          <Property Name="ArapStrikeBalanceDTO.ID"  Title="单据ID"/>
          <Property Name="ArapStrikeBalanceDTO.TS"  Title="TS"/>
          <Property Name="ArapStrikeBalanceDTO.idBusiType"  Title="业务类型ID"/>
          <Property Name="ArapStrikeBalanceDTO.BusiType.ID"  Title="业务类型ID"/>
          <Property Name="ArapStrikeBalanceDTO.BusiType.Name"  Title="业务类型"/>
          <Property Name="ArapStrikeBalanceDTO.VoucherDate"  Title="单据日期"/>
          <Property Name="ArapStrikeBalanceDTO.Code"  Title="单据编号"/>
          <Property Name="ArapStrikeBalanceDTO.Memo"  Title="备注"/>
          <Property Name="ArapStrikeBalanceDTO.CurrentTotalAmount"  Title="冲销金额总计（本币）"/>
          <Property Name="ArapStrikeBalanceDTO.OrigCurrentTotalAmount"  Title="冲销金额总计"/>
          <Property Name="ArapStrikeBalanceDTO.idCurrency"  Title="币种ID"/>
          <Property Name="ArapStrikeBalanceDTO.Currency.ID"  Title="币种"/>
          <Property Name="ArapStrikeBalanceDTO.Currency.Name"  Title="币种名称"/>
          <Property Name="ArapStrikeBalanceDTO.ExchangeRate"  Title="汇率"/>
          <Property Name="ArapStrikeBalanceDTO.idfirstPartner"  Title="转入往来单位ID"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.ID"  Title="转入往来单位"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.Code"  Title="转入往来单位编码"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.Name"  Title="转入往来单位名称"/>
		  <Property Name="ArapStrikeBalanceDTO.FirstPartner.Iddistrict"  Title="地区"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.IdpartnerClass"  Title="转入往来单位分类id"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.PartnerClass.ID"  Title="转入往来单位分类"/>
          <Property Name="ArapStrikeBalanceDTO.FirstPartner.PartnerClass.Name"  Title="转入往来单位名称"/>
          <Property Name="ArapStrikeBalanceDTO.idsecondPartner"  Title="转出往来单位ID"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.ID"  Title="转出往来单位"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.Code"  Title="转出往来单位编码"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.Name"  Title="转出往来单位名称"/>
		  <Property Name="ArapStrikeBalanceDTO.SecondPartner.Iddistrict"  Title="地区"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.IdpartnerClass"  Title="转出往来单位分类id"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.PartnerClass.ID"  Title="转出往来单位分类"/>
          <Property Name="ArapStrikeBalanceDTO.SecondPartner.PartnerClass.Name"  Title="转出往来单位名称"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc1"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc2"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc3"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc4"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc5"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefnvc6"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm1"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm2"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm3"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm4"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm5"/>
		  <Property Name="ArapStrikeBalanceDTO.pubuserdefdecm6"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc1"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc2"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc3"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc4"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc5"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefnvc6"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm1"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm2"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm3"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm4"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm5"/>
		  <Property Name="ArapStrikeBalanceDTO.priuserdefdecm6"/>
        </Header>
        <Details>
          <Detail DetailRuleName="FirstDetails" DTO="ArapStrikeBalanceFirstDetailDTO" FK="idarapStrikeBalanceDTO" Title="明细1">
            <Property Name="ArapStrikeBalanceFirstDetailDTO.ID"  Title="ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.TS"  Title="TS"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.CurrentAmount"  Title="冲销金额本币"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.OrigCurrentAmount"  Title="冲销金额"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.IdvoucherType"  Title="单据类型ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idCurrency"  Title="币种ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.ExchangeRate"  Title="汇率"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idDepartment"  Title="部门ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idPerson"  Title="人员ID"/>
            <Property Name="ArapStrikeBalanceFirstDetailDTO.idProject"  Title="项目ID"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.idDetailProject"  Title="明细项目ID"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.ID"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Name"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Code"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.IdClass"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Class.ID"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Class.Name"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceFirstDetailDTO.DetailProject.Class.Code"  Title="项目分类"/>
            
          </Detail>
          <Detail DetailRuleName="SecondDetails" DTO="ArapStrikeBalanceSecondDetailDTO" FK="idarapStrikeBalanceDTO" Title="明细2">
            <Property Name="ArapStrikeBalanceSecondDetailDTO.ID"  Title="ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.TS"  Title="TS"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.CurrentAmount"  Title="冲销金额本币"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.OrigCurrentAmount"  Title="冲销金额"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.IdvoucherType"  Title="单据类型ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.idCurrency"  Title="币种ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.ExchangeRate"  Title="汇率"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.idDepartment"  Title="部门ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.idPerson"  Title="人员ID"/>
            <Property Name="ArapStrikeBalanceSecondDetailDTO.idProject"  Title="项目ID"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.idDetailProject"  Title="明细项目ID"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.Project.ID"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Name"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Code"  Title="项目"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.IdClass"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Class.ID"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Class.Name"  Title="项目分类"/>
			  <Property Name="ArapStrikeBalanceSecondDetailDTO.DetailProject.Class.Code"  Title="项目分类"/>
            
          </Detail>
        </Details>
      </FullQuery>
      <TransactionDoc Type="Ufida.T.UA.ARAP.FC.ArapStrikeBalanceArAp">
        <SummaryFields>
          <Property Name="VoucherTypeId" Mapping="ID" Title="单据类型ID"/>
          <Property Name="BusiTypeId" Mapping="idBusiType" Title="业务类型ID"/>
          <Property Name="BusiType" Mapping="BusiType.Name" Title="业务类型"/>
          <Property Name="Partner" Mapping="FirstPartner.Name" Title="往来单位"/>
          <Property Name="Department" Mapping="" Title="部门"/>
          <Property Name="Person" Mapping="" Title="人员"/>
          <Property Name="Memo" Mapping="Memo" Title="备注"/>
        </SummaryFields>
        <TransactionEntry Code="DebitFromAp" Name="应付生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="CurrentAmount"/>
            <Property Doc="OrigAmountDr" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapStrikeBalance.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapStrikeBalance.ExchangeRate"/>
            <Account AccountRuleType="Ap">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idsecondPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
            <Account AccountRuleType="OtherAp">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idsecondPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.SecondPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapStrikeBalance.idsecondPartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="DetailProject.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="ArapStrikeBalance.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapStrikeBalance.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapStrikeBalance.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapStrikeBalance.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="ArapStrikeBalance.SecondPartner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="ArapStrikeBalance.SecondPartner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapStrikeBalance.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapStrikeBalance.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromAr" Name="应收生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="CurrentAmount"/>
            <Property Doc="OrigAmountCr" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="OrigAmount" SourceVoucher="OrigCurrentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapStrikeBalance.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapStrikeBalance.ExchangeRate"/>
            <Account AccountRuleType="Ar">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idfirstPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
            <Account AccountRuleType="OtherAr">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="ArapStrikeBalance.idfirstPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="ArapStrikeBalance.FirstPartner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapStrikeBalance.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapStrikeBalance.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="Project.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="ArapStrikeBalance.idfirstPartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="DetailProject.IdClass" Title="项目分类"/>
            <Property Doc="idbusiType" SourceVoucher="ArapStrikeBalance.idbusiType"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapStrikeBalance.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapStrikeBalance.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="ArapStrikeBalance.idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="ArapStrikeBalance.FirstPartner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="SettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="ArapStrikeBalance.FirstPartner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapStrikeBalance.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapStrikeBalance.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
      </TransactionDoc>
      <DocUpdateBack Title="回写" Type="Ufida.T.UA.ARAP.FC.DocUpdateBackArapStrikeBalance" />
    </Voucher>
    <Voucher Code="ARAP05" Name="ArapExchangeAdjustDTO" Title="汇兑损益调整单">
      <SimpleQuery Title="简单查询设置" Type="Ufida.T.SM.FC.AbstractSimpleQuery">

        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,如果没有某个字段设置为NULL-->
        <!--当前单据到FC_DocSimpleSourceVoucher字段的映射,SELECT部分和WHERE部分都需要配置-->
        <Fields>
          <Property Name="ID" MapProperty="NEWID()" Title="Id" />
          <Property Name="UserId" MapProperty="{UserId}" Title="UserId" />
          <Property Name="IdvoucherType" MapProperty="{IdvoucherType}" Title="单据类型" />
          <Property Name="VoucherId" MapProperty="ArapExchangeAdjustDTO.ID" Title="单据Id" />
          <Property Name="VoucherDate" MapProperty="ArapExchangeAdjustDTO.VoucherDate" Titile="单据日期"/>
          <Property Name="VoucherCode" MapProperty="ArapExchangeAdjustDTO.Code" Titile="单据编号"/>
          <Property Name="VoucherTs" MapProperty="ArapExchangeAdjustDTO.Ts" Title="单据时间戳"/>
          <Property Name="IdbusiType" MapProperty="" Titile="业务类型"/>
          <Property Name="Idcurrency" MapProperty="ArapExchangeAdjustDTO.idcurrency" Titile="币种"/>
          <!--<Property Name="IdbankAccount" MapProperty=""  Titile="账号"/>
          <Property Name="Iddepartment" MapProperty="" Titile="部门"/>
          <Property Name="Idclerck" MapProperty="" Titile="员工"/>-->
			<Property Name="OrigAmount" MapProperty="ArapExchangeAdjustDTO.arDifferentAmount+ArapExchangeAdjustDTO.apDifferentAmount" Title="金额"/>
			<Property Name="Amount" MapProperty="ArapExchangeAdjustDTO.arDifferentAmount+ArapExchangeAdjustDTO.apDifferentAmount" Title="本币金额"/>
			
        </Fields>
        
        <PropertyFilters>
          <Filter Name="VoucherDate" MapProperty="ArapExchangeAdjustDTO.VoucherDate"/>
          <Filter Name="VoucherCode" MapProperty="ArapExchangeAdjustDTO.Code"/>
          <Filter Name="SupplierCode" MapProperty="ArapExchangeAdjustDTO.ApDetails.Partner.Code"/>
          <Filter Name="CustomerCode" MapProperty="ArapExchangeAdjustDTO.ArDetails.Partner.Code"/>
          <!--<Filter Name="Departments" MapProperty=""/>
          <Filter Name="Persons" MapProperty=""/>
          <Filter Name="Projects" MapProperty=""/>-->
          <Filter Name="Currencys" MapProperty="ArapExchangeAdjustDTO.idcurrency"/>
			<Filter Name="OrigAmount" MapProperty="ArapExchangeAdjustDTO.arDifferentAmount+ArapExchangeAdjustDTO.apDifferentAmount" Title="金额"/>
			<Filter Name="Amount" MapProperty="ArapExchangeAdjustDTO.arDifferentAmount+ArapExchangeAdjustDTO.apDifferentAmount" Title="本币金额"/>
			<Filter Name="maker" MapProperty="ArapExchangeAdjustDTO.makerid"/>
          <Filter Name="auditor" MapProperty="ArapExchangeAdjustDTO.auditorid"/>
        </PropertyFilters>

        <!--查询单据的过滤条件，多是不生成凭证过滤条件，也可以添加其他的自定义条件-->
        <BusinessFilters ModeName="PS">
          <Filter Name="未生效的不生成">
            ArapExchangeAdjustDTO.VoucherState={VoucherState.Effective}
          </Filter>
          <Filter Name="已生成凭证的业务单据不生成">
            (ArapExchangeAdjustDTO.DocId IS NULL or ArapExchangeAdjustDTO.DocId='')
          </Filter>
          <Filter Name="该模块启用期间之前的期初单据不生成">
            ArapExchangeAdjustDTO.VoucherDate>={ModelOpeningDate}
          </Filter>
			<Filter Name="所属营销机构 !=“总部”的单据不生成凭证">
				ArapExchangeAdjustDTO.IdmarketingOrgan='4AD74463-E871-4DC1-BEB0-6E6EAA0A6386'
			</Filter>
        </BusinessFilters>
      </SimpleQuery>
      <FullQuery Name="完整查询设置" Type="Ufida.T.SM.FC.AbstractFullQuery">
        <Header>
          <Property Name="ArapExchangeAdjustDTO.ID"  Title="单据ID"/>
          <Property Name="ArapExchangeAdjustDTO.TS"  Title="TS"/>
          <Property Name="ArapExchangeAdjustDTO.VoucherDate"  Title="单据日期"/>
          <Property Name="ArapExchangeAdjustDTO.Code"  Title="单据编号"/>
          <Property Name="ArapExchangeAdjustDTO.Memo"  Title="备注"/>
          <Property Name="ArapExchangeAdjustDTO.idCurrency"  Title="币种ID"/>
          <Property Name="ArapExchangeAdjustDTO.Currency.ID"  Title="币种"/>
          <Property Name="ArapExchangeAdjustDTO.Currency.Name"  Title="币种名称"/>
          <Property Name="ArapExchangeAdjustDTO.ExchangeRate"  Title="汇率"/>
		  <Property Name="ArapExchangeAdjustDTO.pubuserdefnvc1"/>
		  <Property Name="ArapExchangeAdjustDTO.pubuserdefnvc2"/>
		  <Property Name="ArapExchangeAdjustDTO.pubuserdefnvc3"/>
		  <Property Name="ArapExchangeAdjustDTO.pubuserdefnvc4"/>
		  <Property Name="ArapExchangeAdjustDTO.pubuserdefnvc5"/>
		  <Property Name="ArapExchangeAdjustDTO.pubuserdefnvc6"/>
		  <Property Name="ArapExchangeAdjustDTO.pubuserdefdecm1"/>
		  <Property Name="ArapExchangeAdjustDTO.pubuserdefdecm2"/>
		  <Property Name="ArapExchangeAdjustDTO.pubuserdefdecm3"/>
		  <Property Name="ArapExchangeAdjustDTO.pubuserdefdecm4"/>
		  <Property Name="ArapExchangeAdjustDTO.pubuserdefdecm5"/>
		  <Property Name="ArapExchangeAdjustDTO.pubuserdefdecm6"/>
		  <Property Name="ArapExchangeAdjustDTO.priuserdefnvc1"/>
		  <Property Name="ArapExchangeAdjustDTO.priuserdefnvc2"/>
		  <Property Name="ArapExchangeAdjustDTO.priuserdefnvc3"/>
		  <Property Name="ArapExchangeAdjustDTO.priuserdefnvc4"/>
		  <Property Name="ArapExchangeAdjustDTO.priuserdefnvc5"/>
		  <Property Name="ArapExchangeAdjustDTO.priuserdefnvc6"/>
		  <Property Name="ArapExchangeAdjustDTO.priuserdefdecm1"/>
		  <Property Name="ArapExchangeAdjustDTO.priuserdefdecm2"/>
		  <Property Name="ArapExchangeAdjustDTO.priuserdefdecm3"/>
		  <Property Name="ArapExchangeAdjustDTO.priuserdefdecm4"/>
		  <Property Name="ArapExchangeAdjustDTO.priuserdefdecm5"/>
		  <Property Name="ArapExchangeAdjustDTO.priuserdefdecm6"/>
        </Header>
        <Details>
          <Detail DetailRuleName="ArDetails" DTO="ArExchangeAdjustDetailDTO" FK="IdarapExchangeAdjustDTO" Title="应收明细">
            <Property Name="ArExchangeAdjustDetailDTO.ID"  Title="ID"/>
            <Property Name="ArExchangeAdjustDetailDTO.TS"  Title="TS"/>
            <Property Name="ArExchangeAdjustDetailDTO.IdvoucherType"  Title="单据类型ID"/>
            <Property Name="ArExchangeAdjustDetailDTO.idPartner"  Title="往来单位ID"/>
            <Property Name="ArExchangeAdjustDetailDTO.Partner.ID"  Title="往来单位"/>
            <Property Name="ArExchangeAdjustDetailDTO.Partner.Code"  Title="往来单位编码"/>
            <Property Name="ArExchangeAdjustDetailDTO.Partner.Name"  Title="往来单位名称"/>
            <Property Name="ArExchangeAdjustDetailDTO.idDepartment"  Title="部门ID"/>
            <Property Name="ArExchangeAdjustDetailDTO.Department.ID"  Title="部门"/>
            <Property Name="ArExchangeAdjustDetailDTO.Department.Code"  Title="部门编码"/>
            <Property Name="ArExchangeAdjustDetailDTO.Department.Name"  Title="部门名称"/>
			<Property Name="ArExchangeAdjustDetailDTO.Partner.Iddistrict"  Title="地区"/>
            <Property Name="ArExchangeAdjustDetailDTO.Partner.IdpartnerClass"  Title="往来单位分类id"/>
            <Property Name="ArExchangeAdjustDetailDTO.Partner.PartnerClass.ID"  Title="往来单位分类"/>
            <Property Name="ArExchangeAdjustDetailDTO.Partner.PartnerClass.Name"  Title="往来单位名称"/>
            <Property Name="ArExchangeAdjustDetailDTO.idDetailProject"  Title="项目ID"/>
			<Property Name="ArExchangeAdjustDetailDTO.idProject"  Title="项目ID"/>
            <Property Name="ArExchangeAdjustDetailDTO.Project.ID"  Title="项目"/>
            <Property Name="ArExchangeAdjustDetailDTO.Project.Name"  Title="项目名称"/>
            <Property Name="ArExchangeAdjustDetailDTO.DifferentAmount"  Title="调整金额（本币）"/>
            <Property Name="ArExchangeAdjustDetailDTO.VoucherID"  Title="单据ID"/>
            <Property Name="ArExchangeAdjustDetailDTO.VoucherDetailID"  Title="单据明细ID"/>
			  <Property Name="ArExchangeAdjustDetailDTO.DetailProject.ID"/>
			  <Property Name="ArExchangeAdjustDetailDTO.DetailProject.Name"/>
			  <Property Name="ArExchangeAdjustDetailDTO.DetailProject.idclass"/>
          </Detail>
          <Detail DetailRuleName="ApDetails" DTO="ApExchangeAdjustDetailDTO" FK="IdarapExchangeAdjustDTO" Title="应付明细">
            <Property Name="ApExchangeAdjustDetailDTO.ID"  Title="ID"/>
            <Property Name="ApExchangeAdjustDetailDTO.TS"  Title="TS"/>
            <Property Name="ApExchangeAdjustDetailDTO.IdvoucherType"  Title="单据类型ID"/>
            <Property Name="ApExchangeAdjustDetailDTO.idPartner"  Title="往来单位ID"/>
            <Property Name="ApExchangeAdjustDetailDTO.Partner.ID"  Title="往来单位"/>
            <Property Name="ApExchangeAdjustDetailDTO.Partner.Code"  Title="往来单位编码"/>
            <Property Name="ApExchangeAdjustDetailDTO.Partner.Name"  Title="往来单位名称"/>
            <Property Name="ApExchangeAdjustDetailDTO.idDepartment"  Title="部门ID"/>
            <Property Name="ApExchangeAdjustDetailDTO.Department.ID"  Title="部门"/>
            <Property Name="ApExchangeAdjustDetailDTO.Department.Code"  Title="部门编码"/>
            <Property Name="ApExchangeAdjustDetailDTO.Department.Name"  Title="部门名称"/>
			<Property Name="ApExchangeAdjustDetailDTO.Partner.Iddistrict"  Title="地区"/>
            <Property Name="ApExchangeAdjustDetailDTO.Partner.IdpartnerClass"  Title="往来单位分类id"/>
            <Property Name="ApExchangeAdjustDetailDTO.Partner.PartnerClass.ID"  Title="往来单位分类"/>
            <Property Name="ApExchangeAdjustDetailDTO.Partner.PartnerClass.Name"  Title="往来单位名称"/>
			<Property Name="ApExchangeAdjustDetailDTO.idDetailProject"  Title="项目ID"/>
            <Property Name="ApExchangeAdjustDetailDTO.idProject"  Title="项目ID"/>
            <Property Name="ApExchangeAdjustDetailDTO.Project.ID"  Title="项目"/>
            <Property Name="ApExchangeAdjustDetailDTO.Project.Name"  Title="项目名称"/>
            <Property Name="ApExchangeAdjustDetailDTO.DifferentAmount"  Title="调整金额（本币）"/>
            <Property Name="ApExchangeAdjustDetailDTO.VoucherID"  Title="单据ID"/>
            <Property Name="ApExchangeAdjustDetailDTO.VoucherDetailID"  Title="单据明细ID"/>
			  <Property Name="ApExchangeAdjustDetailDTO.DetailProject.ID"/>
			  <Property Name="ApExchangeAdjustDetailDTO.DetailProject.Name"/>
			  <Property Name="ApExchangeAdjustDetailDTO.DetailProject.idclass"/>
          </Detail>
        </Details>
      </FullQuery>
      <TransactionDoc Type="Ufida.T.UA.ARAP.FC.ArapExchangeAdjust">
        <SummaryFields>
          <Property Name="VoucherTypeId" Mapping="ID" Title="单据类型ID"/>
          <Property Name="BusiTypeId" Mapping="" Title="业务类型ID"/>
          <Property Name="BusiType" Mapping="" Title="业务类型"/>
          <Property Name="Partner" Mapping="" Title="往来单位"/>
          <Property Name="Department" Mapping="" Title="部门"/>
          <Property Name="Person" Mapping="" Title="人员"/>
          <Property Name="Memo" Mapping="Memo" Title="备注"/>
        </SummaryFields>
        <!--应收调整明细-->
        <TransactionEntry Code="DebitFromExchangeAdjust" Name="汇兑损益生成借方" DCDirection="Debit">
          <Entry>
			  <Property Doc="MemoTo" SourceVoucher="Memo"/>
            <Account AccountRuleType="ExchangeGainsOrLosses">
				<ExtendRuleProperty Name="ProfitLossType" SourceVoucherProperty="ProfitLossType"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="DebitFromAr" Name="应收生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="DifferentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapExchangeAdjust.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapExchangeAdjust.ExchangeRate"/>
			  <Property Doc="Memoto" SourceVoucher="ArapExchangeAdjust.Memo"/>
            <Account AccountRuleType="Ar">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="idPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapExchangeAdjust.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
            </Account>
            <Account AccountRuleType="OtherAr">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="idPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapExchangeAdjust.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="idpartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="DetailProject.IdClass" Title="项目分类"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapExchangeAdjust.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapExchangeAdjust.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="Partner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapExchangeAdjust.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapExchangeAdjust.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromAdv" Name="预收生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="DifferentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapExchangeAdjust.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapExchangeAdjust.ExchangeRate"/>
			  <Property Doc="Memoto" SourceVoucher="ArapExchangeAdjust.Memo"/>
            <Account AccountRuleType="AdvReceive">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="idPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapExchangeAdjust.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
			</Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="idpartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="Project.IdClass" Title="项目分类"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapExchangeAdjust.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapExchangeAdjust.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="Partner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapExchangeAdjust.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapExchangeAdjust.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromAr" Name="应收生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="DifferentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapExchangeAdjust.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapExchangeAdjust.ExchangeRate"/>
			  <Property Doc="Memoto" SourceVoucher="ArapExchangeAdjust.Memo"/>
            <Account AccountRuleType="Ar">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="idPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapExchangeAdjust.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
			</Account>
            <Account AccountRuleType="OtherAr">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="idPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapExchangeAdjust.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="idpartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="DetailProject.IdClass" Title="项目分类"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapExchangeAdjust.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapExchangeAdjust.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="Partner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapExchangeAdjust.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapExchangeAdjust.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <!--应付调整明细-->
        <TransactionEntry Code="DebitFromExchangeAdjust" Name="汇兑损益生成借方" DCDirection="Debit">
          <Entry>
			  <Property Doc="Memoto" SourceVoucher="Memo"/>
            <Account AccountRuleType="ExchangeGainsOrLosses">
				<ExtendRuleProperty Name="ProfitLossType" SourceVoucherProperty="ProfitLossType"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="VoucherCode" SourceVoucher="Code"/>
            <Property Doc="VoucherDate" SourceVoucher="VoucherDate"/>
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="DebitFromAp" Name="应付生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="DifferentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapExchangeAdjust.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapExchangeAdjust.ExchangeRate"/>
			  <Property Doc="Memoto" SourceVoucher="ArapExchangeAdjust.Memo"/>
            <Account AccountRuleType="Ap">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="idPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapExchangeAdjust.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
            </Account>
            <Account AccountRuleType="OtherAp">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="idPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapExchangeAdjust.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="idpartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="DetailProject.IdClass" Title="项目分类"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapExchangeAdjust.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapExchangeAdjust.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="Partner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapExchangeAdjust.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapExchangeAdjust.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="DebitFromAdv" Name="预付生成借方" DCDirection="Debit">
          <Entry>
            <Property Doc="AmountDr" SourceVoucher="DifferentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapExchangeAdjust.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapExchangeAdjust.ExchangeRate"/>
			  <Property Doc="Memoto" SourceVoucher="ArapExchangeAdjust.Memo"/>
            <Account AccountRuleType="AdvPayment">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="idPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapExchangeAdjust.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="idpartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="DetailProject.IdClass" Title="项目分类"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapExchangeAdjust.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapExchangeAdjust.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="Partner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapExchangeAdjust.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapExchangeAdjust.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
        <TransactionEntry Code="CreditFromAp" Name="应付生成贷方" DCDirection="Credit">
          <Entry>
            <Property Doc="AmountCr" SourceVoucher="DifferentAmount"/>
            <Property Doc="Idcurrency" SourceVoucher="ArapExchangeAdjust.Idcurrency"/>
            <Property Doc="ExchangeRate" SourceVoucher="ArapExchangeAdjust.ExchangeRate"/>
			  <Property Doc="Memoto" SourceVoucher="ArapExchangeAdjust.Memo"/>
            <Account AccountRuleType="Ap">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="idPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapExchangeAdjust.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
            </Account>
            <Account AccountRuleType="OtherAp">
              <ExtendRuleProperty Name="IdpartnerClass" SourceVoucherProperty="Partner.IdpartnerClass"/>
              <ExtendRuleProperty Name="Idpartner" SourceVoucherProperty="idPartner"/>
              <ExtendRuleProperty Name="Iddistrict" SourceVoucherProperty="Partner.Iddistrict"/>
              <ExtendRuleProperty Name="Idcurrency" SourceVoucherProperty="ArapExchangeAdjust.Idcurrency"/>
              <ExtendRuleProperty Name="Idproject" SourceVoucherProperty="IdDetailProject"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm4"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpubuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.pubuserdefdecm6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc4"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefnvc5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefnvc6"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm0" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm1"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm1" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm2"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm2" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm3"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm3" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm4"/>
		 	  <ExtendRuleProperty Name="Headerpriuserdefdecm4" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm5"/>
			  <ExtendRuleProperty Name="Headerpriuserdefdecm5" SourceVoucherProperty="ArapExchangeAdjust.priuserdefdecm6"/>
			  <ExtendRuleProperty Name="IdProjectClass" SourceVoucherProperty="DetailProject.idclass"/>
            </Account>
          </Entry>
          <Auxiliary>
            <Property Doc="Idcustomer" SourceVoucher="idpartner"/>
            <Property Doc="Iddepartment" SourceVoucher="Iddepartment"/>
            <Property Doc="Idperson" SourceVoucher="Idperson"/>
            <Property Doc="Idproject" SourceVoucher="IdDetailProject"/>
			  <Property Doc="IdprojectClass" SourceVoucher="DetailProject.IdClass" Title="项目分类"/>
            <Property Doc="VoucherCode" SourceVoucher="ArapExchangeAdjust.Code"/>
            <Property Doc="VoucherDate" SourceVoucher="ArapExchangeAdjust.VoucherDate"/>
			<Property Doc="IdVoucherType" SourceVoucher="idvouchertype"/>
			<!--<Property Doc="IdIncome" SourceVoucher=""/>
			<Property Doc="IdExpenseItem" SourceVoucher=""/>
			<Property Doc="IdWarehouse" SourceVoucher=""/>-->
			<Property Doc="IdCustomerClass" SourceVoucher="Partner.IdpartnerClass"/>
			<!--<Property Doc="IdInventoryClass" SourceVoucher=""/>
			<Property Doc="IdDocumentsUsageDTO" SourceVoucher=""/>
			<Property Doc="IdInRdStyle" SourceVoucher=""/>-->
			<!--<Property Doc="IdSettleStyle" SourceVoucher="IdsettleStyle"/>-->
			<Property Doc="IdDistrict" SourceVoucher="Partner.iddistrict"/>
			<!--<Property Doc="IdBankAccount" SourceVoucher="IdbankAccount"/>-->
          </Auxiliary>
          <SourceRelation>
            <Property Doc="SourceVoucherId" SourceVoucher="ArapExchangeAdjust.ID"/>
            <Property Doc="SourceVoucherTs" SourceVoucher="ArapExchangeAdjust.Ts"/>
            <Property Doc="SourceVoucherDetailId" SourceVoucher="ID"/>
            <Property Doc="SourceVoucherDetailTs" SourceVoucher="Ts"/>
          </SourceRelation>
        </TransactionEntry>
      </TransactionDoc>
      <DocUpdateBack Title="回写" Type="Ufida.T.UA.ARAP.FC.DocUpdateBackArapExchangeAdjust" />
    </Voucher>
	  <DocReIndexs>
		  <DocReIndex Name="往来明细账" TableName="ARAP_Detail" DocIdField="DocId" DocCodeField="DocNo"/>
	  </DocReIndexs>
  </Modle>
</DocSourceVoucher>
